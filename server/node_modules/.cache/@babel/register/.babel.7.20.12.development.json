{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const express = require(\"express\");\nconst mongoose = require(\"mongoose\");\nconst router = require(\"./routes/UserRouter\");\nconst cookieParser = require(\"cookie-parser\");\nconst app = express();\napp.use(express.json());\napp.use(cookieParser());\napp.use(\"/\", router);\nmongoose.set('strictQuery', false);\nmongoose.connect(\"mongodb://127.0.0.1:27017/Signup\").then(() => {\n  app.listen(3000);\n  console.log(\"Succesfully Connected to the mongodb server\");\n}).catch(err => {\n  console.log(err);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vbmdvb3NlIiwicm91dGVyIiwiY29va2llUGFyc2VyIiwiYXBwIiwidXNlIiwianNvbiIsInNldCIsImNvbm5lY3QiLCJ0aGVuIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGhwXFxEZXNrdG9wXFxyZWFjdGpzLW5vZGUtbW9uZ29kYlxcIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9cmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IG1vbmdvb3NlPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbmNvbnN0IHJvdXRlciA9IHJlcXVpcmUoXCIuL3JvdXRlcy9Vc2VyUm91dGVyXCIpO1xyXG5jb25zdCBjb29raWVQYXJzZXI9cmVxdWlyZShcImNvb2tpZS1wYXJzZXJcIik7XHJcblxyXG5jb25zdCBhcHA9ZXhwcmVzcygpO1xyXG5cclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbmFwcC51c2UoY29va2llUGFyc2VyKCkpO1xyXG5hcHAudXNlKFwiL1wiLHJvdXRlcik7XHJcblxyXG5tb25nb29zZS5zZXQoJ3N0cmljdFF1ZXJ5JywgZmFsc2UpO1xyXG5tb25nb29zZS5jb25uZWN0KFwibW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9TaWdudXBcIikudGhlbigoKT0+e1xyXG5hcHAubGlzdGVuKDMwMDApO1xyXG4gICAgY29uc29sZS5sb2coXCJTdWNjZXNmdWxseSBDb25uZWN0ZWQgdG8gdGhlIG1vbmdvZGIgc2VydmVyXCIpO1xyXG59KS5jYXRjaCgoZXJyKT0+e1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxufSlcclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFFQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2pDLE1BQU1DLFFBQVEsR0FBRUQsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNuQyxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztBQUM3QyxNQUFNRyxZQUFZLEdBQUNILE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFFM0MsTUFBTUksR0FBRyxHQUFDTCxPQUFPLEVBQUU7QUFFbkJLLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDTixPQUFPLENBQUNPLElBQUksRUFBRSxDQUFDO0FBQ3ZCRixHQUFHLENBQUNDLEdBQUcsQ0FBQ0YsWUFBWSxFQUFFLENBQUM7QUFDdkJDLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLEdBQUcsRUFBQ0gsTUFBTSxDQUFDO0FBRW5CRCxRQUFRLENBQUNNLEdBQUcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDO0FBQ2xDTixRQUFRLENBQUNPLE9BQU8sQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDQyxJQUFJLENBQUMsTUFBSTtFQUM5REwsR0FBRyxDQUFDTSxNQUFNLENBQUMsSUFBSSxDQUFDO0VBQ1pDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZDQUE2QyxDQUFDO0FBQzlELENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUVDLEdBQUcsSUFBRztFQUNaSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDO0FBQ3BCLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["express","require","mongoose","router","cookieParser","app","use","json","set","connect","then","listen","console","log","catch","err"],"sourceRoot":"C:\\Users\\hp\\Desktop\\reactjs-node-mongodb\\","sources":["app.js"],"sourcesContent":["const express =require(\"express\");\r\nconst mongoose= require(\"mongoose\");\r\nconst router = require(\"./routes/UserRouter\");\r\nconst cookieParser=require(\"cookie-parser\");\r\n\r\nconst app=express();\r\n\r\napp.use(express.json());\r\napp.use(cookieParser());\r\napp.use(\"/\",router);\r\n\r\nmongoose.set('strictQuery', false);\r\nmongoose.connect(\"mongodb://127.0.0.1:27017/Signup\").then(()=>{\r\napp.listen(3000);\r\n    console.log(\"Succesfully Connected to the mongodb server\");\r\n}).catch((err)=>{\r\n    console.log(err);\r\n})\r\n\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAEC,OAAO,CAAC,SAAS,CAAC;AACjC,MAAMC,QAAQ,GAAED,OAAO,CAAC,UAAU,CAAC;AACnC,MAAME,MAAM,GAAGF,OAAO,CAAC,qBAAqB,CAAC;AAC7C,MAAMG,YAAY,GAACH,OAAO,CAAC,eAAe,CAAC;AAE3C,MAAMI,GAAG,GAACL,OAAO,EAAE;AAEnBK,GAAG,CAACC,GAAG,CAACN,OAAO,CAACO,IAAI,EAAE,CAAC;AACvBF,GAAG,CAACC,GAAG,CAACF,YAAY,EAAE,CAAC;AACvBC,GAAG,CAACC,GAAG,CAAC,GAAG,EAACH,MAAM,CAAC;AAEnBD,QAAQ,CAACM,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;AAClCN,QAAQ,CAACO,OAAO,CAAC,kCAAkC,CAAC,CAACC,IAAI,CAAC,MAAI;EAC9DL,GAAG,CAACM,MAAM,CAAC,IAAI,CAAC;EACZC,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;AAC9D,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,IAAG;EACZH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;AACpB,CAAC,CAAC"}},"mtime":1676698977240},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\\\\routes\\\\UserRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const express = require(\"express\");\nconst {\n  register,\n  login,\n  verifyToken,\n  getUser\n} = require(\"../controller/UserController\");\nconst router = express.Router();\nrouter.post(\"/register\", register);\nrouter.post(\"/login\", login);\nrouter.get(\"/user\", verifyToken, getUser);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJlZ2lzdGVyIiwibG9naW4iLCJ2ZXJpZnlUb2tlbiIsImdldFVzZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiZ2V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxocFxcRGVza3RvcFxccmVhY3Rqcy1ub2RlLW1vbmdvZGJcXHJvdXRlc1xcIiwic291cmNlcyI6WyJVc2VyUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPXJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCB7IHJlZ2lzdGVyLCBsb2dpbiwgdmVyaWZ5VG9rZW4sIGdldFVzZXIgfSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVyL1VzZXJDb250cm9sbGVyXCIpO1xyXG5cclxuY29uc3Qgcm91dGVyPWV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLHJlZ2lzdGVyKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsbG9naW4pO1xyXG5cclxucm91dGVyLmdldChcIi91c2VyXCIsdmVyaWZ5VG9rZW4sZ2V0VXNlcik7XHJcblxyXG5tb2R1bGUuZXhwb3J0cz1yb3V0ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUVDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDakMsTUFBTTtFQUFFQyxRQUFRO0VBQUVDLEtBQUs7RUFBRUMsV0FBVztFQUFFQztBQUFRLENBQUMsR0FBR0osT0FBTyxDQUFDLDhCQUE4QixDQUFDO0FBRXpGLE1BQU1LLE1BQU0sR0FBQ04sT0FBTyxDQUFDTyxNQUFNLEVBQUU7QUFFN0JELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQ04sUUFBUSxDQUFDO0FBRWpDSSxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUNMLEtBQUssQ0FBQztBQUUzQkcsTUFBTSxDQUFDRyxHQUFHLENBQUMsT0FBTyxFQUFDTCxXQUFXLEVBQUNDLE9BQU8sQ0FBQztBQUV2Q0ssTUFBTSxDQUFDQyxPQUFPLEdBQUNMLE1BQU0ifQ==","map":{"version":3,"names":["express","require","register","login","verifyToken","getUser","router","Router","post","get","module","exports"],"sourceRoot":"C:\\Users\\hp\\Desktop\\reactjs-node-mongodb\\routes\\","sources":["UserRouter.js"],"sourcesContent":["const express =require(\"express\");\r\nconst { register, login, verifyToken, getUser } = require(\"../controller/UserController\");\r\n\r\nconst router=express.Router();\r\n\r\nrouter.post(\"/register\",register);\r\n\r\nrouter.post(\"/login\",login);\r\n\r\nrouter.get(\"/user\",verifyToken,getUser);\r\n\r\nmodule.exports=router;"],"mappings":"AAAA,MAAMA,OAAO,GAAEC,OAAO,CAAC,SAAS,CAAC;AACjC,MAAM;EAAEC,QAAQ;EAAEC,KAAK;EAAEC,WAAW;EAAEC;AAAQ,CAAC,GAAGJ,OAAO,CAAC,8BAA8B,CAAC;AAEzF,MAAMK,MAAM,GAACN,OAAO,CAACO,MAAM,EAAE;AAE7BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACN,QAAQ,CAAC;AAEjCI,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACL,KAAK,CAAC;AAE3BG,MAAM,CAACG,GAAG,CAAC,OAAO,EAACL,WAAW,EAACC,OAAO,CAAC;AAEvCK,MAAM,CAACC,OAAO,GAACL,MAAM"}},"mtime":1676483375208},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\\\\controller\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const User = require('../model/UserModel');\nconst bcrypt = require(\"bcryptjs\");\nconst jwt = require(\"jsonwebtoken\");\nconst JWT_SECRET_KEY = \"mypetnameisgajjuitisaverymotherfucker\";\nconst register = async (req, res, next) => {\n  const {\n    name,\n    email,\n    password,\n    mobile\n  } = req.body;\n  let existingUser;\n  try {\n    existingUser = await User.findOne({\n      email: email\n    });\n  } catch (err) {\n    console.log(err);\n  }\n  if (existingUser) {\n    return res.status(400).json({\n      massage: \"USer already Existing !Login insted\"\n    });\n  }\n  const salt = bcrypt.genSaltSync(10);\n  const hashpassword = bcrypt.hashSync(password, salt);\n  const user = new User({\n    name,\n    email,\n    password: hashpassword,\n    mobile\n  });\n  try {\n    await user.save();\n  } catch (err) {\n    console.log(err);\n  }\n  return res.status(200).json({\n    massage: user\n  });\n};\nconst login = async (req, res, nest) => {\n  const {\n    email,\n    password\n  } = req.body;\n  let existingUser;\n  try {\n    existingUser = await User.findOne({\n      email: email\n    });\n  } catch (err) {\n    console.log(err);\n  }\n  if (!existingUser) {\n    return res.status(400).json({\n      massage: \"Invalied Email Id\"\n    });\n  }\n  const matchpassword = bcrypt.compareSync(password, existingUser.password);\n  // console.log(matchpassword);\n  if (!matchpassword) {\n    return res.status(400).json({\n      massage: \"Invalied password\"\n    });\n  }\n  const token = jwt.sign({\n    id: existingUser._id\n  }, JWT_SECRET_KEY, {\n    expiresIn: \"30s\"\n  });\n  res.cookie(String(existingUser._id), token, {\n    path: '/',\n    expires: new Date(Date.now() + 1000 * 30),\n    httpOnly: true,\n    sameSite: 'lax'\n  });\n  return res.status(200).json({\n    massage: \"user Login successfully\",\n    user: existingUser,\n    token\n  });\n};\nconst verifyToken = (req, res, next) => {\n  const cookies = req.headers.cookie;\n  const token = cookies.split(\"=\")[1];\n  //   console.log(token);\n  // const headers=req.headers[`authorization`];\n  // const token=headers.split(\" \")[1];\n  if (!token) {\n    return res.status(404).json({\n      massage: \"Token is not found\"\n    });\n  }\n  jwt.verify(String(token), JWT_SECRET_KEY, (err, user) => {\n    if (err) {\n      return res.status(404).json({\n        massage: \"Invalid Token\"\n      });\n    }\n    //   console.log(user.id);\n    req.id = user.id;\n  });\n  next();\n};\nconst getUser = async (req, res, next) => {\n  const userId = req.id;\n  let user;\n  try {\n    user = await User.findById(userId, \"-password\");\n  } catch (err) {\n    return new Error(err);\n  }\n  if (!user) {\n    return res.status(404).json({\n      massage: \"User Not Found\"\n    });\n  }\n  return res.status(200).json({\n    user\n  });\n};\nexports.register = register;\nexports.login = login;\nexports.verifyToken = verifyToken;\nexports.getUser = getUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImJjcnlwdCIsImp3dCIsIkpXVF9TRUNSRVRfS0VZIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJtb2JpbGUiLCJib2R5IiwiZXhpc3RpbmdVc2VyIiwiZmluZE9uZSIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJqc29uIiwibWFzc2FnZSIsInNhbHQiLCJnZW5TYWx0U3luYyIsImhhc2hwYXNzd29yZCIsImhhc2hTeW5jIiwidXNlciIsInNhdmUiLCJsb2dpbiIsIm5lc3QiLCJtYXRjaHBhc3N3b3JkIiwiY29tcGFyZVN5bmMiLCJ0b2tlbiIsInNpZ24iLCJpZCIsIl9pZCIsImV4cGlyZXNJbiIsImNvb2tpZSIsIlN0cmluZyIsInBhdGgiLCJleHBpcmVzIiwiRGF0ZSIsIm5vdyIsImh0dHBPbmx5Iiwic2FtZVNpdGUiLCJ2ZXJpZnlUb2tlbiIsImNvb2tpZXMiLCJoZWFkZXJzIiwic3BsaXQiLCJ2ZXJpZnkiLCJnZXRVc2VyIiwidXNlcklkIiwiZmluZEJ5SWQiLCJFcnJvciIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcaHBcXERlc2t0b3BcXHJlYWN0anMtbm9kZS1tb25nb2RiXFxjb250cm9sbGVyXFwiLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFVzZXI9IHJlcXVpcmUoJy4uL21vZGVsL1VzZXJNb2RlbCcpO1xyXG5jb25zdCBiY3J5cHQ9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTtcclxuY29uc3Qgand0PXJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7IFxyXG5jb25zdCBKV1RfU0VDUkVUX0tFWT1cIm15cGV0bmFtZWlzZ2FqanVpdGlzYXZlcnltb3RoZXJmdWNrZXJcIjtcclxuXHJcbmNvbnN0IHJlZ2lzdGVyPWFzeW5jKHJlcSxyZXMsbmV4dCk9PntcclxuICAgIGNvbnN0IHtuYW1lLGVtYWlsLHBhc3N3b3JkLG1vYmlsZX09cmVxLmJvZHk7XHJcbiAgICBsZXQgZXhpc3RpbmdVc2VyO1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGV4aXN0aW5nVXNlcj1hd2FpdCBVc2VyLmZpbmRPbmUoe2VtYWlsOmVtYWlsfSk7XHJcblxyXG4gICAgfWNhdGNoKGVycil7XHJcbmNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcbiAgICBpZihleGlzdGluZ1VzZXIpe1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7bWFzc2FnZTpcIlVTZXIgYWxyZWFkeSBFeGlzdGluZyAhTG9naW4gaW5zdGVkXCJ9KTtcclxuICAgIH1cclxuY29uc3Qgc2FsdD1iY3J5cHQuZ2VuU2FsdFN5bmMoMTApO1xyXG4gICAgY29uc3QgaGFzaHBhc3N3b3JkPWJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCxzYWx0KTtcclxuICAgIGNvbnN0IHVzZXI9bmV3IFVzZXIoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgZW1haWwsXHJcbiAgICAgICAgcGFzc3dvcmQ6aGFzaHBhc3N3b3JkLFxyXG4gICAgICAgIG1vYmlsZSxcclxuICAgIH0pO1xyXG4gICAgdHJ5e1xyXG4gICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHttYXNzYWdlOnVzZXJ9KTtcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBsb2dpbiA9YXN5bmMocmVxLHJlcyxuZXN0KT0+e1xyXG4gICAgY29uc3Qge2VtYWlsLHBhc3N3b3JkfT1yZXEuYm9keTtcclxuICAgIGxldCBleGlzdGluZ1VzZXI7XHJcbiAgICB0cnl7XHJcbmV4aXN0aW5nVXNlcj1hd2FpdCBVc2VyLmZpbmRPbmUoe2VtYWlsOmVtYWlsfSk7XHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG4gICAgaWYoIWV4aXN0aW5nVXNlcilcclxuICAgIHtcclxuICAgICByZXR1cm4gIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttYXNzYWdlOlwiSW52YWxpZWQgRW1haWwgSWRcIn0pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbWF0Y2hwYXNzd29yZD1iY3J5cHQuY29tcGFyZVN5bmMocGFzc3dvcmQsZXhpc3RpbmdVc2VyLnBhc3N3b3JkKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKG1hdGNocGFzc3dvcmQpO1xyXG4gICAgaWYoIW1hdGNocGFzc3dvcmQpXHJcbiAgICB7XHJcbiAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21hc3NhZ2U6XCJJbnZhbGllZCBwYXNzd29yZFwifSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0b2tlbj1qd3Quc2lnbih7aWQ6ZXhpc3RpbmdVc2VyLl9pZH0sSldUX1NFQ1JFVF9LRVkse2V4cGlyZXNJbjpcIjMwc1wifSk7XHJcblxyXG4gICAgcmVzLmNvb2tpZShTdHJpbmcoZXhpc3RpbmdVc2VyLl9pZCksdG9rZW4se1xyXG4gICAgICAgIHBhdGg6Jy8nLFxyXG4gICAgICAgIGV4cGlyZXM6bmV3IERhdGUoRGF0ZS5ub3coKSArIDEwMDAqMzApLFxyXG4gICAgICAgIGh0dHBPbmx5OnRydWUsXHJcbiAgICAgICAgc2FtZVNpdGU6J2xheCdcclxuICAgIH0pXHJcblxyXG5yZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21hc3NhZ2U6XCJ1c2VyIExvZ2luIHN1Y2Nlc3NmdWxseVwiLHVzZXI6ZXhpc3RpbmdVc2VyLHRva2VuIH0pO1xyXG59IFxyXG5cclxuY29uc3QgdmVyaWZ5VG9rZW49KHJlcSxyZXMsbmV4dCk9PntcclxuICAgIGNvbnN0IGNvb2tpZXM9cmVxLmhlYWRlcnMuY29va2llO1xyXG4gICAgY29uc3QgdG9rZW49Y29va2llcy5zcGxpdChcIj1cIilbMV07XHJcbiAvLyAgIGNvbnNvbGUubG9nKHRva2VuKTtcclxuLy8gY29uc3QgaGVhZGVycz1yZXEuaGVhZGVyc1tgYXV0aG9yaXphdGlvbmBdO1xyXG4vLyBjb25zdCB0b2tlbj1oZWFkZXJzLnNwbGl0KFwiIFwiKVsxXTtcclxuIGlmKCF0b2tlbil7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21hc3NhZ2U6XCJUb2tlbiBpcyBub3QgZm91bmRcIn0pO1xyXG4gfVxyXG4gand0LnZlcmlmeShTdHJpbmcodG9rZW4pLEpXVF9TRUNSRVRfS0VZLChlcnIsdXNlcik9PntcclxuICAgIGlmKGVycil7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttYXNzYWdlOlwiSW52YWxpZCBUb2tlblwifSk7XHJcbiAgICB9XHJcbiAgLy8gICBjb25zb2xlLmxvZyh1c2VyLmlkKTtcclxuICAgIHJlcS5pZD11c2VyLmlkO1xyXG4gfSk7XHJcbiBuZXh0KCk7XHJcbn07XHJcblxyXG5jb25zdCBnZXRVc2VyPWFzeW5jKHJlcSxyZXMsbmV4dCk9PntcclxuY29uc3QgdXNlcklkPXJlcS5pZDtcclxubGV0IHVzZXI7XHJcbnRyeXtcclxudXNlcj1hd2FpdCBVc2VyLmZpbmRCeUlkKHVzZXJJZCxcIi1wYXNzd29yZFwiKTsgICBcclxufWNhdGNoKGVycil7XHJcbnJldHVybiBuZXcgRXJyb3IoZXJyKTtcclxufVxyXG5pZighdXNlcilcclxue1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttYXNzYWdlOlwiVXNlciBOb3QgRm91bmRcIn0pO1xyXG59XHJcbnJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7dXNlcn0pO1xyXG59OyBcclxuXHJcblxyXG5leHBvcnRzLnJlZ2lzdGVyPXJlZ2lzdGVyO1xyXG5leHBvcnRzLmxvZ2luPWxvZ2luO1xyXG5leHBvcnRzLnZlcmlmeVRva2VuPXZlcmlmeVRva2VuO1xyXG5leHBvcnRzLmdldFVzZXI9Z2V0VXNlcjtcclxuIl0sIm1h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","map":{"version":3,"names":["User","require","bcrypt","jwt","JWT_SECRET_KEY","register","req","res","next","name","email","password","mobile","body","existingUser","findOne","err","console","log","status","json","massage","salt","genSaltSync","hashpassword","hashSync","user","save","login","nest","matchpassword","compareSync","token","sign","id","_id","expiresIn","cookie","String","path","expires","Date","now","httpOnly","sameSite","verifyToken","cookies","headers","split","verify","getUser","userId","findById","Error","exports"],"sourceRoot":"C:\\Users\\hp\\Desktop\\reactjs-node-mongodb\\controller\\","sources":["UserController.js"],"sourcesContent":["const User= require('../model/UserModel');\r\nconst bcrypt= require(\"bcryptjs\");\r\nconst jwt=require(\"jsonwebtoken\"); \r\nconst JWT_SECRET_KEY=\"mypetnameisgajjuitisaverymotherfucker\";\r\n\r\nconst register=async(req,res,next)=>{\r\n    const {name,email,password,mobile}=req.body;\r\n    let existingUser;\r\n    try{\r\n        existingUser=await User.findOne({email:email});\r\n\r\n    }catch(err){\r\nconsole.log(err);\r\n    }\r\n    if(existingUser){\r\n        return res.status(400).json({massage:\"USer already Existing !Login insted\"});\r\n    }\r\nconst salt=bcrypt.genSaltSync(10);\r\n    const hashpassword=bcrypt.hashSync(password,salt);\r\n    const user=new User({\r\n        name,\r\n        email,\r\n        password:hashpassword,\r\n        mobile,\r\n    });\r\n    try{\r\n       await user.save();\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n    return res.status(200).json({massage:user});\r\n}\r\n\r\n\r\n\r\nconst login =async(req,res,nest)=>{\r\n    const {email,password}=req.body;\r\n    let existingUser;\r\n    try{\r\nexistingUser=await User.findOne({email:email});\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n    if(!existingUser)\r\n    {\r\n     return  res.status(400).json({massage:\"Invalied Email Id\"});\r\n    }\r\n    const matchpassword=bcrypt.compareSync(password,existingUser.password);\r\n    // console.log(matchpassword);\r\n    if(!matchpassword)\r\n    {\r\n       return res.status(400).json({massage:\"Invalied password\"});\r\n    }\r\n    const token=jwt.sign({id:existingUser._id},JWT_SECRET_KEY,{expiresIn:\"30s\"});\r\n\r\n    res.cookie(String(existingUser._id),token,{\r\n        path:'/',\r\n        expires:new Date(Date.now() + 1000*30),\r\n        httpOnly:true,\r\n        sameSite:'lax'\r\n    })\r\n\r\nreturn res.status(200).json({massage:\"user Login successfully\",user:existingUser,token });\r\n} \r\n\r\nconst verifyToken=(req,res,next)=>{\r\n    const cookies=req.headers.cookie;\r\n    const token=cookies.split(\"=\")[1];\r\n //   console.log(token);\r\n// const headers=req.headers[`authorization`];\r\n// const token=headers.split(\" \")[1];\r\n if(!token){\r\n    return res.status(404).json({massage:\"Token is not found\"});\r\n }\r\n jwt.verify(String(token),JWT_SECRET_KEY,(err,user)=>{\r\n    if(err){\r\n        return res.status(404).json({massage:\"Invalid Token\"});\r\n    }\r\n  //   console.log(user.id);\r\n    req.id=user.id;\r\n });\r\n next();\r\n};\r\n\r\nconst getUser=async(req,res,next)=>{\r\nconst userId=req.id;\r\nlet user;\r\ntry{\r\nuser=await User.findById(userId,\"-password\");   \r\n}catch(err){\r\nreturn new Error(err);\r\n}\r\nif(!user)\r\n{\r\n    return res.status(404).json({massage:\"User Not Found\"});\r\n}\r\nreturn res.status(200).json({user});\r\n}; \r\n\r\n\r\nexports.register=register;\r\nexports.login=login;\r\nexports.verifyToken=verifyToken;\r\nexports.getUser=getUser;\r\n"],"mappings":"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"}},"mtime":1676803563976},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\\\\model\\\\UserModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\reactjs-node-mongodb\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const mongoose = require(\"mongoose\");\nconst UserSchema = mongoose.Schema({\n  name: {\n    type: String,\n    required: [true, \"Name is required\"],\n    lowercase: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    required: [true, \"Email is required\"],\n    unique: true,\n    lowercase: true,\n    trim: true\n  },\n  password: {\n    type: String,\n    required: [true, \"Password is required\"],\n    minlength: 6,\n    trim: true\n  },\n  mobile: {\n    type: Number,\n    required: [true, \"Mobile number is required\"],\n    minlength: 10,\n    maxlength: 12,\n    trim: true\n  }\n});\nmodule.exports = mongoose.model(\"User\", UserSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImxvd2VyY2FzZSIsInRyaW0iLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwibWlubGVuZ3RoIiwibW9iaWxlIiwiTnVtYmVyIiwibWF4bGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGhwXFxEZXNrdG9wXFxyZWFjdGpzLW5vZGUtbW9uZ29kYlxcbW9kZWxcXCIsInNvdXJjZXMiOlsiVXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlPXJlcXVpcmUoXCJtb25nb29zZVwiKTtcclxuXHJcbmNvbnN0IFVzZXJTY2hlbWE9IG1vbmdvb3NlLlNjaGVtYSh7XHJcbm5hbWU6e1xyXG4gICAgdHlwZTpTdHJpbmcsXHJcbiAgICByZXF1aXJlZDpbdHJ1ZSxcIk5hbWUgaXMgcmVxdWlyZWRcIl0sXHJcbiAgICBsb3dlcmNhc2U6dHJ1ZSxcclxuICAgIHRyaW06dHJ1ZVxyXG59LFxyXG5lbWFpbDp7XHJcbiAgICB0eXBlOlN0cmluZyxcclxuICAgIHJlcXVpcmVkOlt0cnVlLFwiRW1haWwgaXMgcmVxdWlyZWRcIl0sXHJcbiAgICB1bmlxdWU6dHJ1ZSxcclxuICAgIGxvd2VyY2FzZTp0cnVlLFxyXG4gICAgdHJpbTp0cnVlXHJcbn0sXHJcbnBhc3N3b3JkOntcclxuICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6W3RydWUsXCJQYXNzd29yZCBpcyByZXF1aXJlZFwiXSxcclxuICAgIG1pbmxlbmd0aDo2LFxyXG4gICAgdHJpbTp0cnVlXHJcbn0sXHJcbm1vYmlsZTp7XHJcbiAgICB0eXBlOk51bWJlcixcclxuICAgIHJlcXVpcmVkOlt0cnVlLFwiTW9iaWxlIG51bWJlciBpcyByZXF1aXJlZFwiXSxcclxuICAgICBtaW5sZW5ndGg6MTAsXHJcbiAgICAgbWF4bGVuZ3RoOjEyLFxyXG4gICAgdHJpbTp0cnVlXHJcbn0sXHJcbn0pXHJcbm1vZHVsZS5leHBvcnRzPW1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLFVzZXJTY2hlbWEpOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFDQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRWxDLE1BQU1DLFVBQVUsR0FBRUYsUUFBUSxDQUFDRyxNQUFNLENBQUM7RUFDbENDLElBQUksRUFBQztJQUNEQyxJQUFJLEVBQUNDLE1BQU07SUFDWEMsUUFBUSxFQUFDLENBQUMsSUFBSSxFQUFDLGtCQUFrQixDQUFDO0lBQ2xDQyxTQUFTLEVBQUMsSUFBSTtJQUNkQyxJQUFJLEVBQUM7RUFDVCxDQUFDO0VBQ0RDLEtBQUssRUFBQztJQUNGTCxJQUFJLEVBQUNDLE1BQU07SUFDWEMsUUFBUSxFQUFDLENBQUMsSUFBSSxFQUFDLG1CQUFtQixDQUFDO0lBQ25DSSxNQUFNLEVBQUMsSUFBSTtJQUNYSCxTQUFTLEVBQUMsSUFBSTtJQUNkQyxJQUFJLEVBQUM7RUFDVCxDQUFDO0VBQ0RHLFFBQVEsRUFBQztJQUNMUCxJQUFJLEVBQUNDLE1BQU07SUFDWEMsUUFBUSxFQUFDLENBQUMsSUFBSSxFQUFDLHNCQUFzQixDQUFDO0lBQ3RDTSxTQUFTLEVBQUMsQ0FBQztJQUNYSixJQUFJLEVBQUM7RUFDVCxDQUFDO0VBQ0RLLE1BQU0sRUFBQztJQUNIVCxJQUFJLEVBQUNVLE1BQU07SUFDWFIsUUFBUSxFQUFDLENBQUMsSUFBSSxFQUFDLDJCQUEyQixDQUFDO0lBQzFDTSxTQUFTLEVBQUMsRUFBRTtJQUNaRyxTQUFTLEVBQUMsRUFBRTtJQUNiUCxJQUFJLEVBQUM7RUFDVDtBQUNBLENBQUMsQ0FBQztBQUNGUSxNQUFNLENBQUNDLE9BQU8sR0FBQ2xCLFFBQVEsQ0FBQ21CLEtBQUssQ0FBQyxNQUFNLEVBQUNqQixVQUFVLENBQUMifQ==","map":{"version":3,"names":["mongoose","require","UserSchema","Schema","name","type","String","required","lowercase","trim","email","unique","password","minlength","mobile","Number","maxlength","module","exports","model"],"sourceRoot":"C:\\Users\\hp\\Desktop\\reactjs-node-mongodb\\model\\","sources":["UserModel.js"],"sourcesContent":["const mongoose=require(\"mongoose\");\r\n\r\nconst UserSchema= mongoose.Schema({\r\nname:{\r\n    type:String,\r\n    required:[true,\"Name is required\"],\r\n    lowercase:true,\r\n    trim:true\r\n},\r\nemail:{\r\n    type:String,\r\n    required:[true,\"Email is required\"],\r\n    unique:true,\r\n    lowercase:true,\r\n    trim:true\r\n},\r\npassword:{\r\n    type:String,\r\n    required:[true,\"Password is required\"],\r\n    minlength:6,\r\n    trim:true\r\n},\r\nmobile:{\r\n    type:Number,\r\n    required:[true,\"Mobile number is required\"],\r\n     minlength:10,\r\n     maxlength:12,\r\n    trim:true\r\n},\r\n})\r\nmodule.exports=mongoose.model(\"User\",UserSchema);"],"mappings":"AAAA,MAAMA,QAAQ,GAACC,OAAO,CAAC,UAAU,CAAC;AAElC,MAAMC,UAAU,GAAEF,QAAQ,CAACG,MAAM,CAAC;EAClCC,IAAI,EAAC;IACDC,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,kBAAkB,CAAC;IAClCC,SAAS,EAAC,IAAI;IACdC,IAAI,EAAC;EACT,CAAC;EACDC,KAAK,EAAC;IACFL,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,mBAAmB,CAAC;IACnCI,MAAM,EAAC,IAAI;IACXH,SAAS,EAAC,IAAI;IACdC,IAAI,EAAC;EACT,CAAC;EACDG,QAAQ,EAAC;IACLP,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,sBAAsB,CAAC;IACtCM,SAAS,EAAC,CAAC;IACXJ,IAAI,EAAC;EACT,CAAC;EACDK,MAAM,EAAC;IACHT,IAAI,EAACU,MAAM;IACXR,QAAQ,EAAC,CAAC,IAAI,EAAC,2BAA2B,CAAC;IAC1CM,SAAS,EAAC,EAAE;IACZG,SAAS,EAAC,EAAE;IACbP,IAAI,EAAC;EACT;AACA,CAAC,CAAC;AACFQ,MAAM,CAACC,OAAO,GAAClB,QAAQ,CAACmB,KAAK,CAAC,MAAM,EAACjB,UAAU,CAAC"}},"mtime":1676483431739},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const express = require(\"express\");\nconst mongoose = require(\"mongoose\");\nconst router = require(\"./routes/UserRouter\");\nconst cookieParser = require(\"cookie-parser\");\nconst cors = require(\"cors\");\nconst app = express();\napp.use(express.json());\napp.use(cookieParser());\napp.use(cors());\napp.use(\"/\", router);\nmongoose.set('strictQuery', false);\nmongoose.connect(\"mongodb://127.0.0.1:27017/Signup\").then(() => {\n  app.listen(3001);\n  console.log(\"Succesfully Connected to the mongodb server\");\n}).catch(err => {\n  console.log(err);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vbmdvb3NlIiwicm91dGVyIiwiY29va2llUGFyc2VyIiwiY29ycyIsImFwcCIsInVzZSIsImpzb24iLCJzZXQiLCJjb25uZWN0IiwidGhlbiIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxocFxcRGVza3RvcFxccmVhY3Qtbm9kZS1tb25nb1xcYmFja2VuZFxcIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9cmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IG1vbmdvb3NlPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbmNvbnN0IHJvdXRlciA9IHJlcXVpcmUoXCIuL3JvdXRlcy9Vc2VyUm91dGVyXCIpO1xyXG5jb25zdCBjb29raWVQYXJzZXI9cmVxdWlyZShcImNvb2tpZS1wYXJzZXJcIik7XHJcbmNvbnN0IGNvcnM9cmVxdWlyZShcImNvcnNcIik7XHJcblxyXG5jb25zdCBhcHA9ZXhwcmVzcygpO1xyXG5cclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbmFwcC51c2UoY29va2llUGFyc2VyKCkpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcbmFwcC51c2UoXCIvXCIscm91dGVyKTtcclxuXHJcbm1vbmdvb3NlLnNldCgnc3RyaWN0UXVlcnknLCBmYWxzZSk7XHJcbm1vbmdvb3NlLmNvbm5lY3QoXCJtb25nb2RiOi8vMTI3LjAuMC4xOjI3MDE3L1NpZ251cFwiKS50aGVuKCgpPT57XHJcbmFwcC5saXN0ZW4oMzAwMSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc2Z1bGx5IENvbm5lY3RlZCB0byB0aGUgbW9uZ29kYiBzZXJ2ZXJcIik7XHJcbn0pLmNhdGNoKChlcnIpPT57XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG59KVxyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUVDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDakMsTUFBTUMsUUFBUSxHQUFFRCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ25DLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0FBQzdDLE1BQU1HLFlBQVksR0FBQ0gsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUMzQyxNQUFNSSxJQUFJLEdBQUNKLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFFMUIsTUFBTUssR0FBRyxHQUFDTixPQUFPLEVBQUU7QUFFbkJNLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDUCxPQUFPLENBQUNRLElBQUksRUFBRSxDQUFDO0FBQ3ZCRixHQUFHLENBQUNDLEdBQUcsQ0FBQ0gsWUFBWSxFQUFFLENBQUM7QUFDdkJFLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDRixJQUFJLEVBQUUsQ0FBQztBQUNmQyxHQUFHLENBQUNDLEdBQUcsQ0FBQyxHQUFHLEVBQUNKLE1BQU0sQ0FBQztBQUVuQkQsUUFBUSxDQUFDTyxHQUFHLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQztBQUNsQ1AsUUFBUSxDQUFDUSxPQUFPLENBQUMsa0NBQWtDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLE1BQUk7RUFDOURMLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLElBQUksQ0FBQztFQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyw2Q0FBNkMsQ0FBQztBQUM5RCxDQUFDLENBQUMsQ0FBQ0MsS0FBSyxDQUFFQyxHQUFHLElBQUc7RUFDWkgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLEdBQUcsQ0FBQztBQUNwQixDQUFDLENBQUMifQ==","map":{"version":3,"names":["express","require","mongoose","router","cookieParser","cors","app","use","json","set","connect","then","listen","console","log","catch","err"],"sourceRoot":"C:\\Users\\hp\\Desktop\\react-node-mongo\\backend\\","sources":["app.js"],"sourcesContent":["const express =require(\"express\");\r\nconst mongoose= require(\"mongoose\");\r\nconst router = require(\"./routes/UserRouter\");\r\nconst cookieParser=require(\"cookie-parser\");\r\nconst cors=require(\"cors\");\r\n\r\nconst app=express();\r\n\r\napp.use(express.json());\r\napp.use(cookieParser());\r\napp.use(cors());\r\napp.use(\"/\",router);\r\n\r\nmongoose.set('strictQuery', false);\r\nmongoose.connect(\"mongodb://127.0.0.1:27017/Signup\").then(()=>{\r\napp.listen(3001);\r\n    console.log(\"Succesfully Connected to the mongodb server\");\r\n}).catch((err)=>{\r\n    console.log(err);\r\n})\r\n\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAEC,OAAO,CAAC,SAAS,CAAC;AACjC,MAAMC,QAAQ,GAAED,OAAO,CAAC,UAAU,CAAC;AACnC,MAAME,MAAM,GAAGF,OAAO,CAAC,qBAAqB,CAAC;AAC7C,MAAMG,YAAY,GAACH,OAAO,CAAC,eAAe,CAAC;AAC3C,MAAMI,IAAI,GAACJ,OAAO,CAAC,MAAM,CAAC;AAE1B,MAAMK,GAAG,GAACN,OAAO,EAAE;AAEnBM,GAAG,CAACC,GAAG,CAACP,OAAO,CAACQ,IAAI,EAAE,CAAC;AACvBF,GAAG,CAACC,GAAG,CAACH,YAAY,EAAE,CAAC;AACvBE,GAAG,CAACC,GAAG,CAACF,IAAI,EAAE,CAAC;AACfC,GAAG,CAACC,GAAG,CAAC,GAAG,EAACJ,MAAM,CAAC;AAEnBD,QAAQ,CAACO,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;AAClCP,QAAQ,CAACQ,OAAO,CAAC,kCAAkC,CAAC,CAACC,IAAI,CAAC,MAAI;EAC9DL,GAAG,CAACM,MAAM,CAAC,IAAI,CAAC;EACZC,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;AAC9D,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,IAAG;EACZH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;AACpB,CAAC,CAAC"}},"mtime":1676810801133},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\\\\routes\\\\UserRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const express = require(\"express\");\nconst {\n  register,\n  login,\n  verifyToken,\n  getUser\n} = require(\"../controller/UserController\");\nconst router = express.Router();\nrouter.post(\"/register\", register);\nrouter.post(\"/login\", login);\nrouter.get(\"/user\", verifyToken, getUser);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJlZ2lzdGVyIiwibG9naW4iLCJ2ZXJpZnlUb2tlbiIsImdldFVzZXIiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwiZ2V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxocFxcRGVza3RvcFxccmVhY3Qtbm9kZS1tb25nb1xcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbIlVzZXJSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9cmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IHsgcmVnaXN0ZXIsIGxvZ2luLCB2ZXJpZnlUb2tlbiwgZ2V0VXNlciB9ID0gcmVxdWlyZShcIi4uL2NvbnRyb2xsZXIvVXNlckNvbnRyb2xsZXJcIik7XHJcblxyXG5jb25zdCByb3V0ZXI9ZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIscmVnaXN0ZXIpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvbG9naW5cIixsb2dpbik7XHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VzZXJcIix2ZXJpZnlUb2tlbixnZXRVc2VyKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzPXJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBRUMsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNqQyxNQUFNO0VBQUVDLFFBQVE7RUFBRUMsS0FBSztFQUFFQyxXQUFXO0VBQUVDO0FBQVEsQ0FBQyxHQUFHSixPQUFPLENBQUMsOEJBQThCLENBQUM7QUFFekYsTUFBTUssTUFBTSxHQUFDTixPQUFPLENBQUNPLE1BQU0sRUFBRTtBQUU3QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDTixRQUFRLENBQUM7QUFFakNJLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0wsS0FBSyxDQUFDO0FBRTNCRyxNQUFNLENBQUNHLEdBQUcsQ0FBQyxPQUFPLEVBQUNMLFdBQVcsRUFBQ0MsT0FBTyxDQUFDO0FBRXZDSyxNQUFNLENBQUNDLE9BQU8sR0FBQ0wsTUFBTSJ9","map":{"version":3,"names":["express","require","register","login","verifyToken","getUser","router","Router","post","get","module","exports"],"sourceRoot":"C:\\Users\\hp\\Desktop\\react-node-mongo\\backend\\routes\\","sources":["UserRouter.js"],"sourcesContent":["const express =require(\"express\");\r\nconst { register, login, verifyToken, getUser } = require(\"../controller/UserController\");\r\n\r\nconst router=express.Router();\r\n\r\nrouter.post(\"/register\",register);\r\n\r\nrouter.post(\"/login\",login);\r\n\r\nrouter.get(\"/user\",verifyToken,getUser);\r\n\r\nmodule.exports=router;"],"mappings":"AAAA,MAAMA,OAAO,GAAEC,OAAO,CAAC,SAAS,CAAC;AACjC,MAAM;EAAEC,QAAQ;EAAEC,KAAK;EAAEC,WAAW;EAAEC;AAAQ,CAAC,GAAGJ,OAAO,CAAC,8BAA8B,CAAC;AAEzF,MAAMK,MAAM,GAACN,OAAO,CAACO,MAAM,EAAE;AAE7BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACN,QAAQ,CAAC;AAEjCI,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACL,KAAK,CAAC;AAE3BG,MAAM,CAACG,GAAG,CAAC,OAAO,EAACL,WAAW,EAACC,OAAO,CAAC;AAEvCK,MAAM,CAACC,OAAO,GAACL,MAAM"}},"mtime":1676483375208},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\\\\controller\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\\\\controller\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const User = require('../model/UserModel');\nconst bcrypt = require(\"bcryptjs\");\nconst jwt = require(\"jsonwebtoken\");\nconst JWT_SECRET_KEY = \"mypetnameisgajjuitisaverymotherfucker\";\nconst register = async (req, res, next) => {\n  const {\n    name,\n    email,\n    password,\n    mobile\n  } = req.body;\n  let existingUser;\n  try {\n    existingUser = await User.findOne({\n      email: email\n    });\n  } catch (err) {\n    console.log(err);\n  }\n  if (existingUser) {\n    return res.status(400).json({\n      massage: \"USer already Existing !Login insted\"\n    });\n  }\n  const salt = bcrypt.genSaltSync(10);\n  const hashpassword = bcrypt.hashSync(password, salt);\n  const user = new User({\n    name,\n    email,\n    password: hashpassword,\n    mobile\n  });\n  try {\n    await user.save();\n  } catch (err) {\n    console.log(err);\n  }\n  return res.status(200).json({\n    massage: \"User Register Succesfully\"\n  });\n};\nconst login = async (req, res, nest) => {\n  const {\n    email,\n    password\n  } = req.body;\n  let existingUser;\n  try {\n    existingUser = await User.findOne({\n      email: email\n    });\n  } catch (err) {\n    console.log(err);\n  }\n  if (!existingUser) {\n    return res.status(400).json({\n      massage: \"Invalied Email Id\"\n    });\n  }\n  const matchpassword = bcrypt.compareSync(password, existingUser.password);\n  // console.log(matchpassword);\n  if (!matchpassword) {\n    return res.status(400).json({\n      massage: \"Invalied password\"\n    });\n  }\n  const token = jwt.sign({\n    id: existingUser._id\n  }, JWT_SECRET_KEY, {\n    expiresIn: \"30s\"\n  });\n  res.cookie(String(existingUser._id), token, {\n    path: '/',\n    expires: new Date(Date.now() + 1000 * 30),\n    httpOnly: true,\n    sameSite: 'lax'\n  });\n  return res.status(200).json({\n    massage: \"user Login successfully\",\n    user: existingUser,\n    token\n  });\n};\nconst verifyToken = (req, res, next) => {\n  const cookies = req.headers.cookie;\n  const token = cookies.split(\"=\")[1];\n  //   console.log(token);\n  // const headers=req.headers[`authorization`];\n  // const token=headers.split(\" \")[1];\n  if (!token) {\n    return res.status(404).json({\n      massage: \"Token is not found\"\n    });\n  }\n  jwt.verify(String(token), JWT_SECRET_KEY, (err, user) => {\n    if (err) {\n      return res.status(404).json({\n        massage: \"Invalid Token\"\n      });\n    }\n    //   console.log(user.id);\n    req.id = user.id;\n  });\n  next();\n};\nconst getUser = async (req, res, next) => {\n  const userId = req.id;\n  let user;\n  try {\n    user = await User.findById(userId, \"-password\");\n  } catch (err) {\n    return new Error(err);\n  }\n  if (!user) {\n    return res.status(404).json({\n      massage: \"User Not Found\"\n    });\n  }\n  return res.status(200).json({\n    user\n  });\n};\nexports.register = register;\nexports.login = login;\nexports.verifyToken = verifyToken;\nexports.getUser = getUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImJjcnlwdCIsImp3dCIsIkpXVF9TRUNSRVRfS0VZIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJtb2JpbGUiLCJib2R5IiwiZXhpc3RpbmdVc2VyIiwiZmluZE9uZSIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJqc29uIiwibWFzc2FnZSIsInNhbHQiLCJnZW5TYWx0U3luYyIsImhhc2hwYXNzd29yZCIsImhhc2hTeW5jIiwidXNlciIsInNhdmUiLCJsb2dpbiIsIm5lc3QiLCJtYXRjaHBhc3N3b3JkIiwiY29tcGFyZVN5bmMiLCJ0b2tlbiIsInNpZ24iLCJpZCIsIl9pZCIsImV4cGlyZXNJbiIsImNvb2tpZSIsIlN0cmluZyIsInBhdGgiLCJleHBpcmVzIiwiRGF0ZSIsIm5vdyIsImh0dHBPbmx5Iiwic2FtZVNpdGUiLCJ2ZXJpZnlUb2tlbiIsImNvb2tpZXMiLCJoZWFkZXJzIiwic3BsaXQiLCJ2ZXJpZnkiLCJnZXRVc2VyIiwidXNlcklkIiwiZmluZEJ5SWQiLCJFcnJvciIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcaHBcXERlc2t0b3BcXHJlYWN0LW5vZGUtbW9uZ29cXGJhY2tlbmRcXGNvbnRyb2xsZXJcXCIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVXNlcj0gcmVxdWlyZSgnLi4vbW9kZWwvVXNlck1vZGVsJyk7XHJcbmNvbnN0IGJjcnlwdD0gcmVxdWlyZShcImJjcnlwdGpzXCIpO1xyXG5jb25zdCBqd3Q9cmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsgXHJcbmNvbnN0IEpXVF9TRUNSRVRfS0VZPVwibXlwZXRuYW1laXNnYWpqdWl0aXNhdmVyeW1vdGhlcmZ1Y2tlclwiO1xyXG5cclxuY29uc3QgcmVnaXN0ZXI9YXN5bmMocmVxLHJlcyxuZXh0KT0+e1xyXG4gICAgY29uc3Qge25hbWUsZW1haWwscGFzc3dvcmQsbW9iaWxlfT1yZXEuYm9keTtcclxuICAgIGxldCBleGlzdGluZ1VzZXI7XHJcbiAgICB0cnl7XHJcbiAgICAgICAgZXhpc3RpbmdVc2VyPWF3YWl0IFVzZXIuZmluZE9uZSh7ZW1haWw6ZW1haWx9KTtcclxuXHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxuICAgIGlmKGV4aXN0aW5nVXNlcil7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttYXNzYWdlOlwiVVNlciBhbHJlYWR5IEV4aXN0aW5nICFMb2dpbiBpbnN0ZWRcIn0pO1xyXG4gICAgfVxyXG5jb25zdCBzYWx0PWJjcnlwdC5nZW5TYWx0U3luYygxMCk7XHJcbiAgICBjb25zdCBoYXNocGFzc3dvcmQ9YmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLHNhbHQpO1xyXG4gICAgY29uc3QgdXNlcj1uZXcgVXNlcih7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBlbWFpbCxcclxuICAgICAgICBwYXNzd29yZDpoYXNocGFzc3dvcmQsXHJcbiAgICAgICAgbW9iaWxlLFxyXG4gICAgfSk7XHJcbiAgICB0cnl7XHJcbiAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21hc3NhZ2U6XCJVc2VyIFJlZ2lzdGVyIFN1Y2Nlc2Z1bGx5XCJ9KTtcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBsb2dpbiA9YXN5bmMocmVxLHJlcyxuZXN0KT0+e1xyXG4gICAgY29uc3Qge2VtYWlsLHBhc3N3b3JkfT1yZXEuYm9keTtcclxuICAgIGxldCBleGlzdGluZ1VzZXI7XHJcbiAgICB0cnl7XHJcbmV4aXN0aW5nVXNlcj1hd2FpdCBVc2VyLmZpbmRPbmUoe2VtYWlsOmVtYWlsfSk7XHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG4gICAgaWYoIWV4aXN0aW5nVXNlcilcclxuICAgIHtcclxuICAgICByZXR1cm4gIHJlcy5zdGF0dXMoNDAwKS5qc29uKHttYXNzYWdlOlwiSW52YWxpZWQgRW1haWwgSWRcIn0pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbWF0Y2hwYXNzd29yZD1iY3J5cHQuY29tcGFyZVN5bmMocGFzc3dvcmQsZXhpc3RpbmdVc2VyLnBhc3N3b3JkKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKG1hdGNocGFzc3dvcmQpO1xyXG4gICAgaWYoIW1hdGNocGFzc3dvcmQpXHJcbiAgICB7XHJcbiAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe21hc3NhZ2U6XCJJbnZhbGllZCBwYXNzd29yZFwifSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0b2tlbj1qd3Quc2lnbih7aWQ6ZXhpc3RpbmdVc2VyLl9pZH0sSldUX1NFQ1JFVF9LRVkse2V4cGlyZXNJbjpcIjMwc1wifSk7XHJcblxyXG4gICAgcmVzLmNvb2tpZShTdHJpbmcoZXhpc3RpbmdVc2VyLl9pZCksdG9rZW4se1xyXG4gICAgICAgIHBhdGg6Jy8nLFxyXG4gICAgICAgIGV4cGlyZXM6bmV3IERhdGUoRGF0ZS5ub3coKSArIDEwMDAqMzApLFxyXG4gICAgICAgIGh0dHBPbmx5OnRydWUsXHJcbiAgICAgICAgc2FtZVNpdGU6J2xheCdcclxuICAgIH0pXHJcblxyXG5yZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe21hc3NhZ2U6XCJ1c2VyIExvZ2luIHN1Y2Nlc3NmdWxseVwiLHVzZXI6ZXhpc3RpbmdVc2VyLHRva2VuIH0pO1xyXG59IFxyXG5cclxuY29uc3QgdmVyaWZ5VG9rZW49KHJlcSxyZXMsbmV4dCk9PntcclxuICAgIGNvbnN0IGNvb2tpZXM9cmVxLmhlYWRlcnMuY29va2llO1xyXG4gICAgY29uc3QgdG9rZW49Y29va2llcy5zcGxpdChcIj1cIilbMV07XHJcbiAvLyAgIGNvbnNvbGUubG9nKHRva2VuKTtcclxuLy8gY29uc3QgaGVhZGVycz1yZXEuaGVhZGVyc1tgYXV0aG9yaXphdGlvbmBdO1xyXG4vLyBjb25zdCB0b2tlbj1oZWFkZXJzLnNwbGl0KFwiIFwiKVsxXTtcclxuIGlmKCF0b2tlbil7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21hc3NhZ2U6XCJUb2tlbiBpcyBub3QgZm91bmRcIn0pO1xyXG4gfVxyXG4gand0LnZlcmlmeShTdHJpbmcodG9rZW4pLEpXVF9TRUNSRVRfS0VZLChlcnIsdXNlcik9PntcclxuICAgIGlmKGVycil7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttYXNzYWdlOlwiSW52YWxpZCBUb2tlblwifSk7XHJcbiAgICB9XHJcbiAgLy8gICBjb25zb2xlLmxvZyh1c2VyLmlkKTtcclxuICAgIHJlcS5pZD11c2VyLmlkO1xyXG4gfSk7XHJcbiBuZXh0KCk7XHJcbn07XHJcblxyXG5jb25zdCBnZXRVc2VyPWFzeW5jKHJlcSxyZXMsbmV4dCk9PntcclxuY29uc3QgdXNlcklkPXJlcS5pZDtcclxubGV0IHVzZXI7XHJcbnRyeXtcclxudXNlcj1hd2FpdCBVc2VyLmZpbmRCeUlkKHVzZXJJZCxcIi1wYXNzd29yZFwiKTsgICBcclxufWNhdGNoKGVycil7XHJcbnJldHVybiBuZXcgRXJyb3IoZXJyKTtcclxufVxyXG5pZighdXNlcilcclxue1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttYXNzYWdlOlwiVXNlciBOb3QgRm91bmRcIn0pO1xyXG59XHJcbnJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7dXNlcn0pO1xyXG59OyBcclxuXHJcblxyXG5leHBvcnRzLnJlZ2lzdGVyPXJlZ2lzdGVyO1xyXG5leHBvcnRzLmxvZ2luPWxvZ2luO1xyXG5leHBvcnRzLnZlcmlmeVRva2VuPXZlcmlmeVRva2VuO1xyXG5leHBv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","map":{"version":3,"names":["User","require","bcrypt","jwt","JWT_SECRET_KEY","register","req","res","next","name","email","password","mobile","body","existingUser","findOne","err","console","log","status","json","massage","salt","genSaltSync","hashpassword","hashSync","user","save","login","nest","matchpassword","compareSync","token","sign","id","_id","expiresIn","cookie","String","path","expires","Date","now","httpOnly","sameSite","verifyToken","cookies","headers","split","verify","getUser","userId","findById","Error","exports"],"sourceRoot":"C:\\Users\\hp\\Desktop\\react-node-mongo\\backend\\controller\\","sources":["UserController.js"],"sourcesContent":["const User= require('../model/UserModel');\r\nconst bcrypt= require(\"bcryptjs\");\r\nconst jwt=require(\"jsonwebtoken\"); \r\nconst JWT_SECRET_KEY=\"mypetnameisgajjuitisaverymotherfucker\";\r\n\r\nconst register=async(req,res,next)=>{\r\n    const {name,email,password,mobile}=req.body;\r\n    let existingUser;\r\n    try{\r\n        existingUser=await User.findOne({email:email});\r\n\r\n    }catch(err){\r\nconsole.log(err);\r\n    }\r\n    if(existingUser){\r\n        return res.status(400).json({massage:\"USer already Existing !Login insted\"});\r\n    }\r\nconst salt=bcrypt.genSaltSync(10);\r\n    const hashpassword=bcrypt.hashSync(password,salt);\r\n    const user=new User({\r\n        name,\r\n        email,\r\n        password:hashpassword,\r\n        mobile,\r\n    });\r\n    try{\r\n       await user.save();\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n    return res.status(200).json({massage:\"User Register Succesfully\"});\r\n}\r\n\r\n\r\n\r\nconst login =async(req,res,nest)=>{\r\n    const {email,password}=req.body;\r\n    let existingUser;\r\n    try{\r\nexistingUser=await User.findOne({email:email});\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n    if(!existingUser)\r\n    {\r\n     return  res.status(400).json({massage:\"Invalied Email Id\"});\r\n    }\r\n    const matchpassword=bcrypt.compareSync(password,existingUser.password);\r\n    // console.log(matchpassword);\r\n    if(!matchpassword)\r\n    {\r\n       return res.status(400).json({massage:\"Invalied password\"});\r\n    }\r\n    const token=jwt.sign({id:existingUser._id},JWT_SECRET_KEY,{expiresIn:\"30s\"});\r\n\r\n    res.cookie(String(existingUser._id),token,{\r\n        path:'/',\r\n        expires:new Date(Date.now() + 1000*30),\r\n        httpOnly:true,\r\n        sameSite:'lax'\r\n    })\r\n\r\nreturn res.status(200).json({massage:\"user Login successfully\",user:existingUser,token });\r\n} \r\n\r\nconst verifyToken=(req,res,next)=>{\r\n    const cookies=req.headers.cookie;\r\n    const token=cookies.split(\"=\")[1];\r\n //   console.log(token);\r\n// const headers=req.headers[`authorization`];\r\n// const token=headers.split(\" \")[1];\r\n if(!token){\r\n    return res.status(404).json({massage:\"Token is not found\"});\r\n }\r\n jwt.verify(String(token),JWT_SECRET_KEY,(err,user)=>{\r\n    if(err){\r\n        return res.status(404).json({massage:\"Invalid Token\"});\r\n    }\r\n  //   console.log(user.id);\r\n    req.id=user.id;\r\n });\r\n next();\r\n};\r\n\r\nconst getUser=async(req,res,next)=>{\r\nconst userId=req.id;\r\nlet user;\r\ntry{\r\nuser=await User.findById(userId,\"-password\");   \r\n}catch(err){\r\nreturn new Error(err);\r\n}\r\nif(!user)\r\n{\r\n    return res.status(404).json({massage:\"User Not Found\"});\r\n}\r\nreturn res.status(200).json({user});\r\n}; \r\n\r\n\r\nexports.register=register;\r\nexports.login=login;\r\nexports.verifyToken=verifyToken;\r\nexports.getUser=getUser;\r\n"],"mappings":"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"}},"mtime":1676826212342},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\\\\model\\\\UserModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const mongoose = require(\"mongoose\");\nconst UserSchema = mongoose.Schema({\n  name: {\n    type: String,\n    required: [true, \"Name is required\"],\n    lowercase: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    required: [true, \"Email is required\"],\n    unique: true,\n    lowercase: true,\n    trim: true\n  },\n  password: {\n    type: String,\n    required: [true, \"Password is required\"],\n    minlength: 6,\n    trim: true\n  },\n  mobile: {\n    type: Number,\n    required: [true, \"Mobile number is required\"],\n    minlength: 10,\n    maxlength: 12,\n    trim: true\n  }\n});\nmodule.exports = mongoose.model(\"User\", UserSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImxvd2VyY2FzZSIsInRyaW0iLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwibWlubGVuZ3RoIiwibW9iaWxlIiwiTnVtYmVyIiwibWF4bGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGhwXFxEZXNrdG9wXFxyZWFjdC1ub2RlLW1vbmdvXFxiYWNrZW5kXFxtb2RlbFxcIiwic291cmNlcyI6WyJVc2VyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2U9cmVxdWlyZShcIm1vbmdvb3NlXCIpO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYT0gbW9uZ29vc2UuU2NoZW1hKHtcclxubmFtZTp7XHJcbiAgICB0eXBlOlN0cmluZyxcclxuICAgIHJlcXVpcmVkOlt0cnVlLFwiTmFtZSBpcyByZXF1aXJlZFwiXSxcclxuICAgIGxvd2VyY2FzZTp0cnVlLFxyXG4gICAgdHJpbTp0cnVlXHJcbn0sXHJcbmVtYWlsOntcclxuICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6W3RydWUsXCJFbWFpbCBpcyByZXF1aXJlZFwiXSxcclxuICAgIHVuaXF1ZTp0cnVlLFxyXG4gICAgbG93ZXJjYXNlOnRydWUsXHJcbiAgICB0cmltOnRydWVcclxufSxcclxucGFzc3dvcmQ6e1xyXG4gICAgdHlwZTpTdHJpbmcsXHJcbiAgICByZXF1aXJlZDpbdHJ1ZSxcIlBhc3N3b3JkIGlzIHJlcXVpcmVkXCJdLFxyXG4gICAgbWlubGVuZ3RoOjYsXHJcbiAgICB0cmltOnRydWVcclxufSxcclxubW9iaWxlOntcclxuICAgIHR5cGU6TnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6W3RydWUsXCJNb2JpbGUgbnVtYmVyIGlzIHJlcXVpcmVkXCJdLFxyXG4gICAgIG1pbmxlbmd0aDoxMCxcclxuICAgICBtYXhsZW5ndGg6MTIsXHJcbiAgICB0cmltOnRydWVcclxufSxcclxufSlcclxubW9kdWxlLmV4cG9ydHM9bW9uZ29vc2UubW9kZWwoXCJVc2VyXCIsVXNlclNjaGVtYSk7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUNDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFFbEMsTUFBTUMsVUFBVSxHQUFFRixRQUFRLENBQUNHLE1BQU0sQ0FBQztFQUNsQ0MsSUFBSSxFQUFDO0lBQ0RDLElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUMsQ0FBQyxJQUFJLEVBQUMsa0JBQWtCLENBQUM7SUFDbENDLFNBQVMsRUFBQyxJQUFJO0lBQ2RDLElBQUksRUFBQztFQUNULENBQUM7RUFDREMsS0FBSyxFQUFDO0lBQ0ZMLElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUMsQ0FBQyxJQUFJLEVBQUMsbUJBQW1CLENBQUM7SUFDbkNJLE1BQU0sRUFBQyxJQUFJO0lBQ1hILFNBQVMsRUFBQyxJQUFJO0lBQ2RDLElBQUksRUFBQztFQUNULENBQUM7RUFDREcsUUFBUSxFQUFDO0lBQ0xQLElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUMsQ0FBQyxJQUFJLEVBQUMsc0JBQXNCLENBQUM7SUFDdENNLFNBQVMsRUFBQyxDQUFDO0lBQ1hKLElBQUksRUFBQztFQUNULENBQUM7RUFDREssTUFBTSxFQUFDO0lBQ0hULElBQUksRUFBQ1UsTUFBTTtJQUNYUixRQUFRLEVBQUMsQ0FBQyxJQUFJLEVBQUMsMkJBQTJCLENBQUM7SUFDMUNNLFNBQVMsRUFBQyxFQUFFO0lBQ1pHLFNBQVMsRUFBQyxFQUFFO0lBQ2JQLElBQUksRUFBQztFQUNUO0FBQ0EsQ0FBQyxDQUFDO0FBQ0ZRLE1BQU0sQ0FBQ0MsT0FBTyxHQUFDbEIsUUFBUSxDQUFDbUIsS0FBSyxDQUFDLE1BQU0sRUFBQ2pCLFVBQVUsQ0FBQyJ9","map":{"version":3,"names":["mongoose","require","UserSchema","Schema","name","type","String","required","lowercase","trim","email","unique","password","minlength","mobile","Number","maxlength","module","exports","model"],"sourceRoot":"C:\\Users\\hp\\Desktop\\react-node-mongo\\backend\\model\\","sources":["UserModel.js"],"sourcesContent":["const mongoose=require(\"mongoose\");\r\n\r\nconst UserSchema= mongoose.Schema({\r\nname:{\r\n    type:String,\r\n    required:[true,\"Name is required\"],\r\n    lowercase:true,\r\n    trim:true\r\n},\r\nemail:{\r\n    type:String,\r\n    required:[true,\"Email is required\"],\r\n    unique:true,\r\n    lowercase:true,\r\n    trim:true\r\n},\r\npassword:{\r\n    type:String,\r\n    required:[true,\"Password is required\"],\r\n    minlength:6,\r\n    trim:true\r\n},\r\nmobile:{\r\n    type:Number,\r\n    required:[true,\"Mobile number is required\"],\r\n     minlength:10,\r\n     maxlength:12,\r\n    trim:true\r\n},\r\n})\r\nmodule.exports=mongoose.model(\"User\",UserSchema);"],"mappings":"AAAA,MAAMA,QAAQ,GAACC,OAAO,CAAC,UAAU,CAAC;AAElC,MAAMC,UAAU,GAAEF,QAAQ,CAACG,MAAM,CAAC;EAClCC,IAAI,EAAC;IACDC,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,kBAAkB,CAAC;IAClCC,SAAS,EAAC,IAAI;IACdC,IAAI,EAAC;EACT,CAAC;EACDC,KAAK,EAAC;IACFL,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,mBAAmB,CAAC;IACnCI,MAAM,EAAC,IAAI;IACXH,SAAS,EAAC,IAAI;IACdC,IAAI,EAAC;EACT,CAAC;EACDG,QAAQ,EAAC;IACLP,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,sBAAsB,CAAC;IACtCM,SAAS,EAAC,CAAC;IACXJ,IAAI,EAAC;EACT,CAAC;EACDK,MAAM,EAAC;IACHT,IAAI,EAACU,MAAM;IACXR,QAAQ,EAAC,CAAC,IAAI,EAAC,2BAA2B,CAAC;IAC1CM,SAAS,EAAC,EAAE;IACZG,SAAS,EAAC,EAAE;IACbP,IAAI,EAAC;EACT;AACA,CAAC,CAAC;AACFQ,MAAM,CAACC,OAAO,GAAClB,QAAQ,CAACmB,KAAK,CAAC,MAAM,EAACjB,UAAU,CAAC"}},"mtime":1676827810692},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const express = require(\"express\"); //import express from 'express';\nconst mongoose = require(\"mongoose\");\nconst router = require(\"./routes/UserRouter\");\nconst cookieParser = require(\"cookie-parser\");\nconst cors = require(\"cors\");\nconst app = express();\napp.use(express.json());\napp.use(cookieParser());\napp.use(cors());\napp.use(\"/\", router);\nmongoose.set('strictQuery', false);\nmongoose.connect(\"mongodb://127.0.0.1:27017/ThapaTechnical\").then(() => {\n  app.listen(3001);\n  console.log(\"server started at link http://localhost:3001\");\n  console.log(\"Succesfully Connected to the mongodb server\");\n}).catch(err => {\n  console.log(err);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vbmdvb3NlIiwicm91dGVyIiwiY29va2llUGFyc2VyIiwiY29ycyIsImFwcCIsInVzZSIsImpzb24iLCJzZXQiLCJjb25uZWN0IiwidGhlbiIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxocFxcRGVza3RvcFxcYmFja2VuZCh0aGFwYXRlY2huaWNhbClcXCIsInNvdXJjZXMiOlsiYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPXJlcXVpcmUoXCJleHByZXNzXCIpOyAvL2ltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5jb25zdCBtb25nb29zZT0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xyXG5jb25zdCByb3V0ZXIgPSByZXF1aXJlKFwiLi9yb3V0ZXMvVXNlclJvdXRlclwiKTtcclxuY29uc3QgY29va2llUGFyc2VyPXJlcXVpcmUoXCJjb29raWUtcGFyc2VyXCIpO1xyXG5jb25zdCBjb3JzPXJlcXVpcmUoXCJjb3JzXCIpO1xyXG5cclxuY29uc3QgYXBwPWV4cHJlc3MoKTtcclxuXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG4gYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XHJcbmFwcC51c2UoY29ycygpKTtcclxuXHJcbmFwcC51c2UoXCIvXCIscm91dGVyKTtcclxuXHJcbm1vbmdvb3NlLnNldCgnc3RyaWN0UXVlcnknLCBmYWxzZSk7XHJcbm1vbmdvb3NlLmNvbm5lY3QoXCJtb25nb2RiOi8vMTI3LjAuMC4xOjI3MDE3L1RoYXBhVGVjaG5pY2FsXCIpLnRoZW4oKCk9PntcclxuYXBwLmxpc3RlbigzMDAxKTtcclxuY29uc29sZS5sb2coXCJzZXJ2ZXIgc3RhcnRlZCBhdCBsaW5rIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMVwiKTtcclxuICAgIGNvbnNvbGUubG9nKFwiU3VjY2VzZnVsbHkgQ29ubmVjdGVkIHRvIHRoZSBtb25nb2RiIHNlcnZlclwiKTtcclxufSkuY2F0Y2goKGVycik9PntcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbn0pXHJcblxyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBRUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDbkMsTUFBTUMsUUFBUSxHQUFFRCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ25DLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0FBQzdDLE1BQU1HLFlBQVksR0FBQ0gsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUMzQyxNQUFNSSxJQUFJLEdBQUNKLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFFMUIsTUFBTUssR0FBRyxHQUFDTixPQUFPLEVBQUU7QUFFbkJNLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDUCxPQUFPLENBQUNRLElBQUksRUFBRSxDQUFDO0FBQ3RCRixHQUFHLENBQUNDLEdBQUcsQ0FBQ0gsWUFBWSxFQUFFLENBQUM7QUFDeEJFLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDRixJQUFJLEVBQUUsQ0FBQztBQUVmQyxHQUFHLENBQUNDLEdBQUcsQ0FBQyxHQUFHLEVBQUNKLE1BQU0sQ0FBQztBQUVuQkQsUUFBUSxDQUFDTyxHQUFHLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQztBQUNsQ1AsUUFBUSxDQUFDUSxPQUFPLENBQUMsMENBQTBDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLE1BQUk7RUFDdEVMLEdBQUcsQ0FBQ00sTUFBTSxDQUFDLElBQUksQ0FBQztFQUNoQkMsT0FBTyxDQUFDQyxHQUFHLENBQUMsOENBQThDLENBQUM7RUFDdkRELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZDQUE2QyxDQUFDO0FBQzlELENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUVDLEdBQUcsSUFBRztFQUNaSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDO0FBQ3BCLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["express","require","mongoose","router","cookieParser","cors","app","use","json","set","connect","then","listen","console","log","catch","err"],"sourceRoot":"C:\\Users\\hp\\Desktop\\backend(thapatechnical)\\","sources":["app.js"],"sourcesContent":["const express =require(\"express\"); //import express from 'express';\r\nconst mongoose= require(\"mongoose\");\r\nconst router = require(\"./routes/UserRouter\");\r\nconst cookieParser=require(\"cookie-parser\");\r\nconst cors=require(\"cors\");\r\n\r\nconst app=express();\r\n\r\napp.use(express.json());\r\n app.use(cookieParser());\r\napp.use(cors());\r\n\r\napp.use(\"/\",router);\r\n\r\nmongoose.set('strictQuery', false);\r\nmongoose.connect(\"mongodb://127.0.0.1:27017/ThapaTechnical\").then(()=>{\r\napp.listen(3001);\r\nconsole.log(\"server started at link http://localhost:3001\");\r\n    console.log(\"Succesfully Connected to the mongodb server\");\r\n}).catch((err)=>{\r\n    console.log(err);\r\n})\r\n\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAEC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;AACnC,MAAMC,QAAQ,GAAED,OAAO,CAAC,UAAU,CAAC;AACnC,MAAME,MAAM,GAAGF,OAAO,CAAC,qBAAqB,CAAC;AAC7C,MAAMG,YAAY,GAACH,OAAO,CAAC,eAAe,CAAC;AAC3C,MAAMI,IAAI,GAACJ,OAAO,CAAC,MAAM,CAAC;AAE1B,MAAMK,GAAG,GAACN,OAAO,EAAE;AAEnBM,GAAG,CAACC,GAAG,CAACP,OAAO,CAACQ,IAAI,EAAE,CAAC;AACtBF,GAAG,CAACC,GAAG,CAACH,YAAY,EAAE,CAAC;AACxBE,GAAG,CAACC,GAAG,CAACF,IAAI,EAAE,CAAC;AAEfC,GAAG,CAACC,GAAG,CAAC,GAAG,EAACJ,MAAM,CAAC;AAEnBD,QAAQ,CAACO,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;AAClCP,QAAQ,CAACQ,OAAO,CAAC,0CAA0C,CAAC,CAACC,IAAI,CAAC,MAAI;EACtEL,GAAG,CAACM,MAAM,CAAC,IAAI,CAAC;EAChBC,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC;EACvDD,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;AAC9D,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,IAAG;EACZH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;AACpB,CAAC,CAAC"}},"mtime":1677007797277},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\\\\routes\\\\UserRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const express = require(\"express\");\nconst User = require('../model/UserModel');\nconst bcrypt = require(\"bcryptjs\");\nconst jwt = require(\"jsonwebtoken\");\nconst JWT_SECRET_KEY = \"mypetnameisgajjuitisaverymotherfucker\";\nconst router = express.Router();\nrouter.post(\"/register\", async (req, res) => {\n  const {\n    name,\n    email,\n    password,\n    cpassword,\n    mobile\n  } = req.body;\n  if (!name || !email || !password || !cpassword || !mobile) {\n    return res.status(404).json({\n      massage: \"Please Fill All Input\"\n    });\n  }\n  try {\n    const existUser = await User.findOne({\n      email: email\n    });\n    //  console.log(existUser);\n    if (existUser) {\n      return res.status(404).json({\n        massage: \"Invalid User\"\n      });\n    } else if (password !== cpassword) {\n      return res.status(404).json({\n        massage: \"Password is not matching \"\n      });\n    } else {\n      // const    hashpassword=await bcrypt.hash(password,10);\n      //  const   chashpassword=await bcrypt.hash(cpassword,10);\n      const user = new User({\n        name,\n        email,\n        password,\n        cpassword,\n        mobile\n      });\n      //here we are using middleware\n      await user.save();\n      return res.status(201).json({\n        massage: \"User Register succesfully\"\n      });\n    }\n  } catch (err) {\n    console.log(err);\n  }\n});\nrouter.post(\"/login\", async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    if (!email || !password) {\n      return res.status(404).json({\n        massage: \"Please Fill All Input\"\n      });\n    }\n    const existUser = await User.findOne({\n      email: email\n    });\n    //  console.log(existUser);\n    if (existUser) {\n      const matchPassword = await bcrypt.compare(password, existUser.password);\n      if (!matchPassword) {\n        return res.status(404).json({\n          massage: \"Invalid User\"\n        });\n      } else {\n        //  const token=jwt.sign({id:existUser._id},JWT_SECRET_KEY,{expiresIn:\"30s\"});\n\n        // res.cookie(String(existUser._id),token,{\n        //     path:'/',\n        //     expires:new Date(Date.now() + 1000*30),\n        //     httpOnly:true,\n        //     sameSite:'lax'\n        // })\n\n        return res.status(201).json({\n          massage: \"User Login seccessfully\"\n        });\n      }\n    } else {\n      return res.status(404).json({\n        massage: \"Invalid User\"\n      });\n    }\n  } catch (err) {\n    console.log(err);\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIlVzZXIiLCJiY3J5cHQiLCJqd3QiLCJKV1RfU0VDUkVUX0tFWSIsInJvdXRlciIsIlJvdXRlciIsInBvc3QiLCJyZXEiLCJyZXMiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImNwYXNzd29yZCIsIm1vYmlsZSIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwibWFzc2FnZSIsImV4aXN0VXNlciIsImZpbmRPbmUiLCJ1c2VyIiwic2F2ZSIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJtYXRjaFBhc3N3b3JkIiwiY29tcGFyZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcaHBcXERlc2t0b3BcXGJhY2tlbmQodGhhcGF0ZWNobmljYWwpXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsiVXNlclJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID1yZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3QgVXNlcj0gcmVxdWlyZSgnLi4vbW9kZWwvVXNlck1vZGVsJyk7XHJcbiBjb25zdCBiY3J5cHQ9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTtcclxuY29uc3Qgand0PXJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7ICAgXHJcbmNvbnN0IEpXVF9TRUNSRVRfS0VZPVwibXlwZXRuYW1laXNnYWpqdWl0aXNhdmVyeW1vdGhlcmZ1Y2tlclwiO1xyXG4gXHJcblxyXG5jb25zdCByb3V0ZXI9ZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXN5bmMocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IHtuYW1lLGVtYWlsLHBhc3N3b3JkLGNwYXNzd29yZCxtb2JpbGV9PXJlcS5ib2R5O1xyXG4gICAgaWYoIW5hbWV8fCFlbWFpbHx8IXBhc3N3b3JkfHwhY3Bhc3N3b3JkfHwhbW9iaWxlKXtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttYXNzYWdlOlwiUGxlYXNlIEZpbGwgQWxsIElucHV0XCJ9KTtcclxuICAgIH1cclxuICAgIHRyeXtcclxuICAgICAgICBjb25zdCBleGlzdFVzZXI9YXdhaXQgVXNlci5maW5kT25lKHtlbWFpbDplbWFpbH0pO1xyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhleGlzdFVzZXIpO1xyXG4gICAgICAgIGlmKGV4aXN0VXNlcil7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWFzc2FnZTpcIkludmFsaWQgVXNlclwifSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYocGFzc3dvcmQhPT1jcGFzc3dvcmQpe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21hc3NhZ2U6XCJQYXNzd29yZCBpcyBub3QgbWF0Y2hpbmcgXCJ9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAvLyBjb25zdCAgICBoYXNocGFzc3dvcmQ9YXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsMTApO1xyXG4gICAgICAgIC8vICBjb25zdCAgIGNoYXNocGFzc3dvcmQ9YXdhaXQgYmNyeXB0Lmhhc2goY3Bhc3N3b3JkLDEwKTtcclxuICAgICAgICAgICAgY29uc3QgdXNlcj1uZXcgVXNlcih7bmFtZSxlbWFpbCxwYXNzd29yZCxjcGFzc3dvcmQsbW9iaWxlfSk7XHJcbi8vaGVyZSB3ZSBhcmUgdXNpbmcgbWlkZGxld2FyZVxyXG4gICAgICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHttYXNzYWdlOlwiVXNlciBSZWdpc3RlciBzdWNjZXNmdWxseVwifSk7XHJcbiAgICAgICAgfVxyXG4gICAgfWNhdGNoKGVycil7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxuXHJcbn0pO1xyXG5cclxucm91dGVyLnBvc3QoXCIvbG9naW5cIixhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IHtlbWFpbCxwYXNzd29yZH09cmVxLmJvZHk7XHJcbiAgICBpZighZW1haWx8fCFwYXNzd29yZCl7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWFzc2FnZTpcIlBsZWFzZSBGaWxsIEFsbCBJbnB1dFwifSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBleGlzdFVzZXI9YXdhaXQgVXNlci5maW5kT25lKHtlbWFpbDplbWFpbH0pO1xyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhleGlzdFVzZXIpO1xyXG4gICAgICAgIGlmKGV4aXN0VXNlcil7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoUGFzc3dvcmQ9YXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsZXhpc3RVc2VyLnBhc3N3b3JkKVxyXG4gICAgICAgICAgICBpZighbWF0Y2hQYXNzd29yZCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21hc3NhZ2U6XCJJbnZhbGlkIFVzZXJcIn0pO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vICBjb25zdCB0b2tlbj1qd3Quc2lnbih7aWQ6ZXhpc3RVc2VyLl9pZH0sSldUX1NFQ1JFVF9LRVkse2V4cGlyZXNJbjpcIjMwc1wifSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVzLmNvb2tpZShTdHJpbmcoZXhpc3RVc2VyLl9pZCksdG9rZW4se1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHBhdGg6Jy8nLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGV4cGlyZXM6bmV3IERhdGUoRGF0ZS5ub3coKSArIDEwMDAqMzApLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGh0dHBPbmx5OnRydWUsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgc2FtZVNpdGU6J2xheCdcclxuICAgICAgICAgICAgICAgIC8vIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHttYXNzYWdlOlwiVXNlciBMb2dpbiBzZWNjZXNzZnVsbHlcIn0pO1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21hc3NhZ2U6XCJJbnZhbGlkIFVzZXJcIn0pO1xyXG4gICAgICAgIH1cclxuICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuIFxyXG5cclxubW9kdWxlLmV4cG9ydHM9cm91dGVyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFFQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2pDLE1BQU1DLElBQUksR0FBRUQsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQ3hDLE1BQU1FLE1BQU0sR0FBRUYsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNsQyxNQUFNRyxHQUFHLEdBQUNILE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFDakMsTUFBTUksY0FBYyxHQUFDLHVDQUF1QztBQUc1RCxNQUFNQyxNQUFNLEdBQUNOLE9BQU8sQ0FBQ08sTUFBTSxFQUFFO0FBRTdCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUMsT0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUc7RUFDcEMsTUFBTTtJQUFDQyxJQUFJO0lBQUNDLEtBQUs7SUFBQ0MsUUFBUTtJQUFDQyxTQUFTO0lBQUNDO0VBQU0sQ0FBQyxHQUFDTixHQUFHLENBQUNPLElBQUk7RUFDckQsSUFBRyxDQUFDTCxJQUFJLElBQUUsQ0FBQ0MsS0FBSyxJQUFFLENBQUNDLFFBQVEsSUFBRSxDQUFDQyxTQUFTLElBQUUsQ0FBQ0MsTUFBTSxFQUFDO0lBQy9DLE9B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","map":{"version":3,"names":["express","require","User","bcrypt","jwt","JWT_SECRET_KEY","router","Router","post","req","res","name","email","password","cpassword","mobile","body","status","json","massage","existUser","findOne","user","save","err","console","log","matchPassword","compare","module","exports"],"sourceRoot":"C:\\Users\\hp\\Desktop\\backend(thapatechnical)\\routes\\","sources":["UserRouter.js"],"sourcesContent":["const express =require(\"express\");\r\nconst User= require('../model/UserModel');\r\n const bcrypt= require(\"bcryptjs\");\r\nconst jwt=require(\"jsonwebtoken\");   \r\nconst JWT_SECRET_KEY=\"mypetnameisgajjuitisaverymotherfucker\";\r\n \r\n\r\nconst router=express.Router();\r\n\r\nrouter.post(\"/register\",async(req,res)=>{\r\n    const {name,email,password,cpassword,mobile}=req.body;\r\n    if(!name||!email||!password||!cpassword||!mobile){\r\n      return res.status(404).json({massage:\"Please Fill All Input\"});\r\n    }\r\n    try{\r\n        const existUser=await User.findOne({email:email});\r\n        //  console.log(existUser);\r\n        if(existUser){\r\n            return res.status(404).json({massage:\"Invalid User\"});\r\n        }\r\n        else if(password!==cpassword){\r\n            return res.status(404).json({massage:\"Password is not matching \"});\r\n        }\r\n        else{\r\n        // const    hashpassword=await bcrypt.hash(password,10);\r\n        //  const   chashpassword=await bcrypt.hash(cpassword,10);\r\n            const user=new User({name,email,password,cpassword,mobile});\r\n//here we are using middleware\r\n            await user.save();\r\n            return res.status(201).json({massage:\"User Register succesfully\"});\r\n        }\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n\r\n});\r\n\r\nrouter.post(\"/login\",async(req,res)=>{\r\n    try{\r\n        const {email,password}=req.body;\r\n    if(!email||!password){\r\n      return res.status(404).json({massage:\"Please Fill All Input\"});\r\n    }\r\n    const existUser=await User.findOne({email:email});\r\n        //  console.log(existUser);\r\n        if(existUser){\r\n            const matchPassword=await bcrypt.compare(password,existUser.password)\r\n            if(!matchPassword){\r\n                return res.status(404).json({massage:\"Invalid User\"});\r\n            }else{\r\n              \r\n                //  const token=jwt.sign({id:existUser._id},JWT_SECRET_KEY,{expiresIn:\"30s\"});\r\n\r\n                // res.cookie(String(existUser._id),token,{\r\n                //     path:'/',\r\n                //     expires:new Date(Date.now() + 1000*30),\r\n                //     httpOnly:true,\r\n                //     sameSite:'lax'\r\n                // })\r\n\r\n                return res.status(201).json({massage:\"User Login seccessfully\"});\r\n               \r\n            }\r\n        }\r\n        else{\r\n            return res.status(404).json({massage:\"Invalid User\"});\r\n        }\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n});\r\n\r\n \r\n\r\nmodule.exports=router;"],"mappings":"AAAA,MAAMA,OAAO,GAAEC,OAAO,CAAC,SAAS,CAAC;AACjC,MAAMC,IAAI,GAAED,OAAO,CAAC,oBAAoB,CAAC;AACxC,MAAME,MAAM,GAAEF,OAAO,CAAC,UAAU,CAAC;AAClC,MAAMG,GAAG,GAACH,OAAO,CAAC,cAAc,CAAC;AACjC,MAAMI,cAAc,GAAC,uCAAuC;AAG5D,MAAMC,MAAM,GAACN,OAAO,CAACO,MAAM,EAAE;AAE7BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,OAAMC,GAAG,EAACC,GAAG,KAAG;EACpC,MAAM;IAACC,IAAI;IAACC,KAAK;IAACC,QAAQ;IAACC,SAAS;IAACC;EAAM,CAAC,GAACN,GAAG,CAACO,IAAI;EACrD,IAAG,CAACL,IAAI,IAAE,CAACC,KAAK,IAAE,CAACC,QAAQ,IAAE,CAACC,SAAS,IAAE,CAACC,MAAM,EAAC;IAC/C,OAAOL,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACC,OAAO,EAAC;IAAuB,CAAC,CAAC;EAChE;EACA,IAAG;IACC,MAAMC,SAAS,GAAC,MAAMlB,IAAI,CAACmB,OAAO,CAAC;MAACT,KAAK,EAACA;IAAK,CAAC,CAAC;IACjD;IACA,IAAGQ,SAAS,EAAC;MACT,OAAOV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACC,OAAO,EAAC;MAAc,CAAC,CAAC;IACzD,CAAC,MACI,IAAGN,QAAQ,KAAGC,SAAS,EAAC;MACzB,OAAOJ,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACC,OAAO,EAAC;MAA2B,CAAC,CAAC;IACtE,CAAC,MACG;MACJ;MACA;MACI,MAAMG,IAAI,GAAC,IAAIpB,IAAI,CAAC;QAACS,IAAI;QAACC,KAAK;QAACC,QAAQ;QAACC,SAAS;QAACC;MAAM,CAAC,CAAC;MACvE;MACY,MAAMO,IAAI,CAACC,IAAI,EAAE;MACjB,OAAOb,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACC,OAAO,EAAC;MAA2B,CAAC,CAAC;IACtE;EACJ,CAAC,QAAMK,GAAG,EAAC;IACPC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;AAEJ,CAAC,CAAC;AAEFlB,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAC,OAAMC,GAAG,EAACC,GAAG,KAAG;EACjC,IAAG;IACC,MAAM;MAACE,KAAK;MAACC;IAAQ,CAAC,GAACJ,GAAG,CAACO,IAAI;IACnC,IAAG,CAACJ,KAAK,IAAE,CAACC,QAAQ,EAAC;MACnB,OAAOH,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACC,OAAO,EAAC;MAAuB,CAAC,CAAC;IAChE;IACA,MAAMC,SAAS,GAAC,MAAMlB,IAAI,CAACmB,OAAO,CAAC;MAACT,KAAK,EAACA;IAAK,CAAC,CAAC;IAC7C;IACA,IAAGQ,SAAS,EAAC;MACT,MAAMO,aAAa,GAAC,MAAMxB,MAAM,CAACyB,OAAO,CAACf,QAAQ,EAACO,SAAS,CAACP,QAAQ,CAAC;MACrE,IAAG,CAACc,aAAa,EAAC;QACd,OAAOjB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAACC,OAAO,EAAC;QAAc,CAAC,CAAC;MACzD,CAAC,MAAI;QAED;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA,OAAOT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAACC,OAAO,EAAC;QAAyB,CAAC,CAAC;MAEpE;IACJ,CAAC,MACG;MACA,OAAOT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAACC,OAAO,EAAC;MAAc,CAAC,CAAC;IACzD;EACJ,CAAC,QAAMK,GAAG,EAAC;IACPC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;AACJ,CAAC,CAAC;AAIFK,MAAM,CAACC,OAAO,GAACxB,MAAM"}},"mtime":1677008209885},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\\\\model\\\\UserModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\backend(thapatechnical)\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const mongoose = require(\"mongoose\");\nconst bcrypt = require(\"bcryptjs\");\nconst UserSchema = mongoose.Schema({\n  name: {\n    type: String,\n    required: [true, \"Name is required\"],\n    lowercase: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    required: [true, \"Email is required\"],\n    unique: true,\n    lowercase: true,\n    trim: true\n  },\n  password: {\n    type: String,\n    required: [true, \"Password is required\"],\n    minlength: 6,\n    trim: true\n  },\n  cpassword: {\n    type: String,\n    required: [true, \"cPassword is required\"],\n    minlength: 6,\n    trim: true\n  },\n  mobile: {\n    type: Number,\n    required: [true, \"Mobile number is required\"],\n    minlength: 10,\n    maxlength: 12,\n    trim: true\n  }\n});\nUserSchema.pre('save', async function (next) {\n  if (this.isModified(\"password\")) {\n    this.password = await bcrypt.hash(this.password, 10);\n    this.cpassword = await bcrypt.hash(this.cpassword, 10);\n  }\n  next();\n});\nmodule.exports = mongoose.model(\"User\", UserSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJiY3J5cHQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImxvd2VyY2FzZSIsInRyaW0iLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwibWlubGVuZ3RoIiwiY3Bhc3N3b3JkIiwibW9iaWxlIiwiTnVtYmVyIiwibWF4bGVuZ3RoIiwicHJlIiwibmV4dCIsImlzTW9kaWZpZWQiLCJoYXNoIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGhwXFxEZXNrdG9wXFxiYWNrZW5kKHRoYXBhdGVjaG5pY2FsKVxcbW9kZWxcXCIsInNvdXJjZXMiOlsiVXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlPXJlcXVpcmUoXCJtb25nb29zZVwiKTtcclxuY29uc3QgYmNyeXB0PSByZXF1aXJlKFwiYmNyeXB0anNcIik7XHJcblxyXG5jb25zdCBVc2VyU2NoZW1hPSBtb25nb29zZS5TY2hlbWEoe1xyXG5uYW1lOntcclxuICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6W3RydWUsXCJOYW1lIGlzIHJlcXVpcmVkXCJdLFxyXG4gICAgbG93ZXJjYXNlOnRydWUsXHJcbiAgICB0cmltOnRydWVcclxufSxcclxuZW1haWw6e1xyXG4gICAgdHlwZTpTdHJpbmcsXHJcbiAgICByZXF1aXJlZDpbdHJ1ZSxcIkVtYWlsIGlzIHJlcXVpcmVkXCJdLFxyXG4gICAgdW5pcXVlOnRydWUsXHJcbiAgICBsb3dlcmNhc2U6dHJ1ZSxcclxuICAgIHRyaW06dHJ1ZVxyXG59LFxyXG5wYXNzd29yZDp7XHJcbiAgICB0eXBlOlN0cmluZyxcclxuICAgIHJlcXVpcmVkOlt0cnVlLFwiUGFzc3dvcmQgaXMgcmVxdWlyZWRcIl0sXHJcbiAgICBtaW5sZW5ndGg6NixcclxuICAgIHRyaW06dHJ1ZVxyXG59LFxyXG5jcGFzc3dvcmQ6e1xyXG4gICAgdHlwZTpTdHJpbmcsXHJcbiAgICByZXF1aXJlZDpbdHJ1ZSxcImNQYXNzd29yZCBpcyByZXF1aXJlZFwiXSxcclxuICAgIG1pbmxlbmd0aDo2LFxyXG4gICAgdHJpbTp0cnVlXHJcbn0sXHJcbm1vYmlsZTp7XHJcbiAgICB0eXBlOk51bWJlcixcclxuICAgIHJlcXVpcmVkOlt0cnVlLFwiTW9iaWxlIG51bWJlciBpcyByZXF1aXJlZFwiXSxcclxuICAgICBtaW5sZW5ndGg6MTAsXHJcbiAgICAgbWF4bGVuZ3RoOjEyLFxyXG4gICAgdHJpbTp0cnVlXHJcbn0sXHJcbn0pXHJcblxyXG5Vc2VyU2NoZW1hLnByZSgnc2F2ZScsYXN5bmMgZnVuY3Rpb24obmV4dCl7XHJcbiAgICBpZih0aGlzLmlzTW9kaWZpZWQoXCJwYXNzd29yZFwiKSl7XHJcbnRoaXMucGFzc3dvcmQ9YXdhaXQgYmNyeXB0Lmhhc2godGhpcy5wYXNzd29yZCwxMCk7XHJcbnRoaXMuY3Bhc3N3b3JkPWF3YWl0IGJjcnlwdC5oYXNoKHRoaXMuY3Bhc3N3b3JkLDEwKTtcclxuICAgIH1cclxuXHJcbm5leHQoKTtcclxufSlcclxuXHJcbm1vZHVsZS5leHBvcnRzPW1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLFVzZXJTY2hlbWEpOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFDQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBRUQsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUVqQyxNQUFNRSxVQUFVLEdBQUVILFFBQVEsQ0FBQ0ksTUFBTSxDQUFDO0VBQ2xDQyxJQUFJLEVBQUM7SUFDREMsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQyxDQUFDLElBQUksRUFBQyxrQkFBa0IsQ0FBQztJQUNsQ0MsU0FBUyxFQUFDLElBQUk7SUFDZEMsSUFBSSxFQUFDO0VBQ1QsQ0FBQztFQUNEQyxLQUFLLEVBQUM7SUFDRkwsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQyxDQUFDLElBQUksRUFBQyxtQkFBbUIsQ0FBQztJQUNuQ0ksTUFBTSxFQUFDLElBQUk7SUFDWEgsU0FBUyxFQUFDLElBQUk7SUFDZEMsSUFBSSxFQUFDO0VBQ1QsQ0FBQztFQUNERyxRQUFRLEVBQUM7SUFDTFAsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQyxDQUFDLElBQUksRUFBQyxzQkFBc0IsQ0FBQztJQUN0Q00sU0FBUyxFQUFDLENBQUM7SUFDWEosSUFBSSxFQUFDO0VBQ1QsQ0FBQztFQUNESyxTQUFTLEVBQUM7SUFDTlQsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQyxDQUFDLElBQUksRUFBQyx1QkFBdUIsQ0FBQztJQUN2Q00sU0FBUyxFQUFDLENBQUM7SUFDWEosSUFBSSxFQUFDO0VBQ1QsQ0FBQztFQUNETSxNQUFNLEVBQUM7SUFDSFYsSUFBSSxFQUFDVyxNQUFNO0lBQ1hULFFBQVEsRUFBQyxDQUFDLElBQUksRUFBQywyQkFBMkIsQ0FBQztJQUMxQ00sU0FBUyxFQUFDLEVBQUU7SUFDWkksU0FBUyxFQUFDLEVBQUU7SUFDYlIsSUFBSSxFQUFDO0VBQ1Q7QUFDQSxDQUFDLENBQUM7QUFFRlAsVUFBVSxDQUFDZ0IsR0FBRyxDQUFDLE1BQU0sRUFBQyxnQkFBZUMsSUFBSSxFQUFDO0VBQ3RDLElBQUcsSUFBSSxDQUFDQyxVQUFVLENBQUMsVUFBVSxDQUFDLEVBQUM7SUFDbkMsSUFBSSxDQUFDUixRQUFRLEdBQUMsTUFBTVgsTUFBTSxDQUFDb0IsSUFBSSxDQUFDLElBQUksQ0FBQ1QsUUFBUSxFQUFDLEVBQUUsQ0FBQztJQUNqRCxJQUFJLENBQUNFLFNBQVMsR0FBQyxNQUFNYixNQUFNLENBQUNvQixJQUFJLENBQUMsSUFBSSxDQUFDUCxTQUFTLEVBQUMsRUFBRSxDQUFDO0VBQy9DO0VBRUpLLElBQUksRUFBRTtBQUNOLENBQUMsQ0FBQztBQUVGRyxNQUFNLENBQUNDLE9BQU8sR0FBQ3hCLFFBQVEsQ0FBQ3lCLEtBQUssQ0FBQyxNQUFNLEVBQUN0QixVQUFVLENBQUMifQ==","map":{"version":3,"names":["mongoose","require","bcrypt","UserSchema","Schema","name","type","String","required","lowercase","trim","email","unique","password","minlength","cpassword","mobile","Number","maxlength","pre","next","isModified","hash","module","exports","model"],"sourceRoot":"C:\\Users\\hp\\Desktop\\backend(thapatechnical)\\model\\","sources":["UserModel.js"],"sourcesContent":["const mongoose=require(\"mongoose\");\r\nconst bcrypt= require(\"bcryptjs\");\r\n\r\nconst UserSchema= mongoose.Schema({\r\nname:{\r\n    type:String,\r\n    required:[true,\"Name is required\"],\r\n    lowercase:true,\r\n    trim:true\r\n},\r\nemail:{\r\n    type:String,\r\n    required:[true,\"Email is required\"],\r\n    unique:true,\r\n    lowercase:true,\r\n    trim:true\r\n},\r\npassword:{\r\n    type:String,\r\n    required:[true,\"Password is required\"],\r\n    minlength:6,\r\n    trim:true\r\n},\r\ncpassword:{\r\n    type:String,\r\n    required:[true,\"cPassword is required\"],\r\n    minlength:6,\r\n    trim:true\r\n},\r\nmobile:{\r\n    type:Number,\r\n    required:[true,\"Mobile number is required\"],\r\n     minlength:10,\r\n     maxlength:12,\r\n    trim:true\r\n},\r\n})\r\n\r\nUserSchema.pre('save',async function(next){\r\n    if(this.isModified(\"password\")){\r\nthis.password=await bcrypt.hash(this.password,10);\r\nthis.cpassword=await bcrypt.hash(this.cpassword,10);\r\n    }\r\n\r\nnext();\r\n})\r\n\r\nmodule.exports=mongoose.model(\"User\",UserSchema);"],"mappings":"AAAA,MAAMA,QAAQ,GAACC,OAAO,CAAC,UAAU,CAAC;AAClC,MAAMC,MAAM,GAAED,OAAO,CAAC,UAAU,CAAC;AAEjC,MAAME,UAAU,GAAEH,QAAQ,CAACI,MAAM,CAAC;EAClCC,IAAI,EAAC;IACDC,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,kBAAkB,CAAC;IAClCC,SAAS,EAAC,IAAI;IACdC,IAAI,EAAC;EACT,CAAC;EACDC,KAAK,EAAC;IACFL,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,mBAAmB,CAAC;IACnCI,MAAM,EAAC,IAAI;IACXH,SAAS,EAAC,IAAI;IACdC,IAAI,EAAC;EACT,CAAC;EACDG,QAAQ,EAAC;IACLP,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,sBAAsB,CAAC;IACtCM,SAAS,EAAC,CAAC;IACXJ,IAAI,EAAC;EACT,CAAC;EACDK,SAAS,EAAC;IACNT,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,uBAAuB,CAAC;IACvCM,SAAS,EAAC,CAAC;IACXJ,IAAI,EAAC;EACT,CAAC;EACDM,MAAM,EAAC;IACHV,IAAI,EAACW,MAAM;IACXT,QAAQ,EAAC,CAAC,IAAI,EAAC,2BAA2B,CAAC;IAC1CM,SAAS,EAAC,EAAE;IACZI,SAAS,EAAC,EAAE;IACbR,IAAI,EAAC;EACT;AACA,CAAC,CAAC;AAEFP,UAAU,CAACgB,GAAG,CAAC,MAAM,EAAC,gBAAeC,IAAI,EAAC;EACtC,IAAG,IAAI,CAACC,UAAU,CAAC,UAAU,CAAC,EAAC;IACnC,IAAI,CAACR,QAAQ,GAAC,MAAMX,MAAM,CAACoB,IAAI,CAAC,IAAI,CAACT,QAAQ,EAAC,EAAE,CAAC;IACjD,IAAI,CAACE,SAAS,GAAC,MAAMb,MAAM,CAACoB,IAAI,CAAC,IAAI,CAACP,SAAS,EAAC,EAAE,CAAC;EAC/C;EAEJK,IAAI,EAAE;AACN,CAAC,CAAC;AAEFG,MAAM,CAACC,OAAO,GAACxB,QAAQ,CAACyB,KAAK,CAAC,MAAM,EAACtB,UAAU,CAAC"}},"mtime":1677006457471},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const express = require(\"express\"); //import express from 'express';\nconst mongoose = require(\"mongoose\");\nconst router = require(\"./routes/UserRouter\");\nconst cookieParser = require(\"cookie-parser\");\nconst cors = require(\"cors\");\nconst bodyParser = require(\"body-parser\");\nconst app = express();\napp.use(express.json());\napp.use(cookieParser());\napp.use(cors());\napp.use(bodyParser());\napp.use(\"/\", router);\nmongoose.set('strictQuery', false);\nmongoose.connect(\"mongodb://127.0.0.1:27017/ThapaTechnical\").then(() => {\n  app.listen(3001);\n  console.log(\"server started at link http://localhost:3001\");\n  console.log(\"Succesfully Connected to the mongodb server\");\n}).catch(err => {\n  console.log(err);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vbmdvb3NlIiwicm91dGVyIiwiY29va2llUGFyc2VyIiwiY29ycyIsImJvZHlQYXJzZXIiLCJhcHAiLCJ1c2UiLCJqc29uIiwic2V0IiwiY29ubmVjdCIsInRoZW4iLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcaHBcXERlc2t0b3BcXHJlYWN0LW5vZGUtbW9uZ29cXGJhY2tlbmQodGhhcGF0ZWNobmljYWwpXFwiLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID1yZXF1aXJlKFwiZXhwcmVzc1wiKTsgLy9pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuY29uc3QgbW9uZ29vc2U9IHJlcXVpcmUoXCJtb25nb29zZVwiKTtcclxuY29uc3Qgcm91dGVyID0gcmVxdWlyZShcIi4vcm91dGVzL1VzZXJSb3V0ZXJcIik7XHJcbmNvbnN0IGNvb2tpZVBhcnNlcj1yZXF1aXJlKFwiY29va2llLXBhcnNlclwiKTtcclxuY29uc3QgY29ycz1yZXF1aXJlKFwiY29yc1wiKTtcclxuY29uc3QgYm9keVBhcnNlcj1yZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7XHJcblxyXG5jb25zdCBhcHA9ZXhwcmVzcygpO1xyXG5cclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbiBhcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcclxuYXBwLnVzZShjb3JzKCkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIoKSk7XHJcblxyXG5hcHAudXNlKFwiL1wiLHJvdXRlcik7XHJcblxyXG5tb25nb29zZS5zZXQoJ3N0cmljdFF1ZXJ5JywgZmFsc2UpO1xyXG5tb25nb29zZS5jb25uZWN0KFwibW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9UaGFwYVRlY2huaWNhbFwiKS50aGVuKCgpPT57XHJcbmFwcC5saXN0ZW4oMzAwMSk7XHJcbmNvbnNvbGUubG9nKFwic2VydmVyIHN0YXJ0ZWQgYXQgbGluayBodHRwOi8vbG9jYWxob3N0OjMwMDFcIik7XHJcbiAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc2Z1bGx5IENvbm5lY3RlZCB0byB0aGUgbW9uZ29kYiBzZXJ2ZXJcIik7XHJcbn0pLmNhdGNoKChlcnIpPT57XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG59KVxyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUVDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0FBQ25DLE1BQU1DLFFBQVEsR0FBRUQsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNuQyxNQUFNRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztBQUM3QyxNQUFNRyxZQUFZLEdBQUNILE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDM0MsTUFBTUksSUFBSSxHQUFDSixPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzFCLE1BQU1LLFVBQVUsR0FBQ0wsT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUV2QyxNQUFNTSxHQUFHLEdBQUNQLE9BQU8sRUFBRTtBQUVuQk8sR0FBRyxDQUFDQyxHQUFHLENBQUNSLE9BQU8sQ0FBQ1MsSUFBSSxFQUFFLENBQUM7QUFDdEJGLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDSixZQUFZLEVBQUUsQ0FBQztBQUN4QkcsR0FBRyxDQUFDQyxHQUFHLENBQUNILElBQUksRUFBRSxDQUFDO0FBQ2ZFLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDRixVQUFVLEVBQUUsQ0FBQztBQUVyQkMsR0FBRyxDQUFDQyxHQUFHLENBQUMsR0FBRyxFQUFDTCxNQUFNLENBQUM7QUFFbkJELFFBQVEsQ0FBQ1EsR0FBRyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUM7QUFDbENSLFFBQVEsQ0FBQ1MsT0FBTyxDQUFDLDBDQUEwQyxDQUFDLENBQUNDLElBQUksQ0FBQyxNQUFJO0VBQ3RFTCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxJQUFJLENBQUM7RUFDaEJDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDhDQUE4QyxDQUFDO0VBQ3ZERCxPQUFPLENBQUNDLEdBQUcsQ0FBQyw2Q0FBNkMsQ0FBQztBQUM5RCxDQUFDLENBQUMsQ0FBQ0MsS0FBSyxDQUFFQyxHQUFHLElBQUc7RUFDWkgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLEdBQUcsQ0FBQztBQUNwQixDQUFDLENBQUMifQ==","map":{"version":3,"names":["express","require","mongoose","router","cookieParser","cors","bodyParser","app","use","json","set","connect","then","listen","console","log","catch","err"],"sourceRoot":"C:\\Users\\hp\\Desktop\\react-node-mongo\\backend(thapatechnical)\\","sources":["app.js"],"sourcesContent":["const express =require(\"express\"); //import express from 'express';\r\nconst mongoose= require(\"mongoose\");\r\nconst router = require(\"./routes/UserRouter\");\r\nconst cookieParser=require(\"cookie-parser\");\r\nconst cors=require(\"cors\");\r\nconst bodyParser=require(\"body-parser\");\r\n\r\nconst app=express();\r\n\r\napp.use(express.json());\r\n app.use(cookieParser());\r\napp.use(cors());\r\napp.use(bodyParser());\r\n\r\napp.use(\"/\",router);\r\n\r\nmongoose.set('strictQuery', false);\r\nmongoose.connect(\"mongodb://127.0.0.1:27017/ThapaTechnical\").then(()=>{\r\napp.listen(3001);\r\nconsole.log(\"server started at link http://localhost:3001\");\r\n    console.log(\"Succesfully Connected to the mongodb server\");\r\n}).catch((err)=>{\r\n    console.log(err);\r\n})\r\n\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAEC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;AACnC,MAAMC,QAAQ,GAAED,OAAO,CAAC,UAAU,CAAC;AACnC,MAAME,MAAM,GAAGF,OAAO,CAAC,qBAAqB,CAAC;AAC7C,MAAMG,YAAY,GAACH,OAAO,CAAC,eAAe,CAAC;AAC3C,MAAMI,IAAI,GAACJ,OAAO,CAAC,MAAM,CAAC;AAC1B,MAAMK,UAAU,GAACL,OAAO,CAAC,aAAa,CAAC;AAEvC,MAAMM,GAAG,GAACP,OAAO,EAAE;AAEnBO,GAAG,CAACC,GAAG,CAACR,OAAO,CAACS,IAAI,EAAE,CAAC;AACtBF,GAAG,CAACC,GAAG,CAACJ,YAAY,EAAE,CAAC;AACxBG,GAAG,CAACC,GAAG,CAACH,IAAI,EAAE,CAAC;AACfE,GAAG,CAACC,GAAG,CAACF,UAAU,EAAE,CAAC;AAErBC,GAAG,CAACC,GAAG,CAAC,GAAG,EAACL,MAAM,CAAC;AAEnBD,QAAQ,CAACQ,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;AAClCR,QAAQ,CAACS,OAAO,CAAC,0CAA0C,CAAC,CAACC,IAAI,CAAC,MAAI;EACtEL,GAAG,CAACM,MAAM,CAAC,IAAI,CAAC;EAChBC,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC;EACvDD,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;AAC9D,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,IAAG;EACZH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;AACpB,CAAC,CAAC"}},"mtime":1677997239223},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\\\\routes\\\\UserRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const express = require(\"express\");\nconst User = require('../model/UserModel');\nconst bcrypt = require(\"bcryptjs\");\nconst jwt = require(\"jsonwebtoken\");\n\n// const authenticate =require(\"../middleware/authenticate\");\n\nconst router = express.Router();\nrouter.post(\"/register\", async (req, res) => {\n  const {\n    name,\n    email,\n    password,\n    cpassword,\n    mobile\n  } = req.body;\n  if (!name || !email || !password || !cpassword || !mobile) {\n    return res.status(404).json({\n      massage: \"Please Fill All Input\"\n    });\n  }\n  try {\n    const existUser = await User.findOne({\n      email: email\n    });\n    //  console.log(existUser);\n    if (existUser) {\n      return res.status(404).json({\n        massage: \"Invalid User\"\n      });\n    } else if (password !== cpassword) {\n      return res.status(404).json({\n        massage: \"Password is not matching \"\n      });\n    } else {\n      // const    hashpassword=await bcrypt.hash(password,10);\n      //  const   chashpassword=await bcrypt.hash(cpassword,10);\n      const user = new User({\n        name,\n        email,\n        password,\n        cpassword,\n        mobile\n      });\n      //here we are using middleware\n      await user.save();\n      return res.status(201).json({\n        massage: \"User Register succesfully\"\n      });\n    }\n  } catch (err) {\n    console.log(err);\n  }\n});\nrouter.post(\"/login\", async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    if (!email || !password) {\n      return res.status(404).json({\n        massage: \"Please Fill All Input\"\n      });\n    }\n    const existUser = await User.findOne({\n      email: email\n    });\n    //  console.log(existUser);\n    if (existUser) {\n      const matchPassword = await bcrypt.compare(password, existUser.password);\n      const token = await existUser.generateAuthToken();\n      // const token=jwt.sign({id:existUser._id},JWT_SECRET_KEY,{expiresIn:\"30s\"});\n      // console.log(token);\n\n      res.cookie(\"jwttoken\", token, {\n        expires: new Date(Date.now() + 1000 * 30),\n        httpOnly: true,\n        sameSite: \"lax\"\n      });\n      if (!matchPassword) {\n        return res.status(404).json({\n          massage: \"Invalid User\"\n        });\n      } else {\n        return res.status(201).json({\n          massage: \"User Login seccessfully\",\n          user: existUser,\n          token\n        });\n      }\n    } else {\n      return res.status(404).json({\n        massage: \"Invalid User\"\n      });\n    }\n  } catch (err) {\n    console.log(err);\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIlVzZXIiLCJiY3J5cHQiLCJqd3QiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwicmVxIiwicmVzIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJjcGFzc3dvcmQiLCJtb2JpbGUiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsIm1hc3NhZ2UiLCJleGlzdFVzZXIiLCJmaW5kT25lIiwidXNlciIsInNhdmUiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibWF0Y2hQYXNzd29yZCIsImNvbXBhcmUiLCJ0b2tlbiIsImdlbmVyYXRlQXV0aFRva2VuIiwiY29va2llIiwiZXhwaXJlcyIsIkRhdGUiLCJub3ciLCJodHRwT25seSIsInNhbWVTaXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxocFxcRGVza3RvcFxccmVhY3Qtbm9kZS1tb25nb1xcYmFja2VuZCh0aGFwYXRlY2huaWNhbClcXHJvdXRlc1xcIiwic291cmNlcyI6WyJVc2VyUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPXJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCBVc2VyPSByZXF1aXJlKCcuLi9tb2RlbC9Vc2VyTW9kZWwnKTtcclxuY29uc3QgYmNyeXB0PSByZXF1aXJlKFwiYmNyeXB0anNcIik7XHJcbmNvbnN0IGp3dD1yZXF1aXJlKFwianNvbndlYnRva2VuXCIpOyAgIFxyXG5cclxuLy8gY29uc3QgYXV0aGVudGljYXRlID1yZXF1aXJlKFwiLi4vbWlkZGxld2FyZS9hdXRoZW50aWNhdGVcIik7XHJcbiBcclxuXHJcbmNvbnN0IHJvdXRlcj1leHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgY29uc3Qge25hbWUsZW1haWwscGFzc3dvcmQsY3Bhc3N3b3JkLG1vYmlsZX09cmVxLmJvZHk7XHJcbiAgICBpZighbmFtZXx8IWVtYWlsfHwhcGFzc3dvcmR8fCFjcGFzc3dvcmR8fCFtb2JpbGUpe1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21hc3NhZ2U6XCJQbGVhc2UgRmlsbCBBbGwgSW5wdXRcIn0pO1xyXG4gICAgfVxyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IGV4aXN0VXNlcj1hd2FpdCBVc2VyLmZpbmRPbmUoe2VtYWlsOmVtYWlsfSk7XHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKGV4aXN0VXNlcik7XHJcbiAgICAgICAgaWYoZXhpc3RVc2VyKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttYXNzYWdlOlwiSW52YWxpZCBVc2VyXCJ9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihwYXNzd29yZCE9PWNwYXNzd29yZCl7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWFzc2FnZTpcIlBhc3N3b3JkIGlzIG5vdCBtYXRjaGluZyBcIn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgIC8vIGNvbnN0ICAgIGhhc2hwYXNzd29yZD1hd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwxMCk7XHJcbiAgICAgICAgLy8gIGNvbnN0ICAgY2hhc2hwYXNzd29yZD1hd2FpdCBiY3J5cHQuaGFzaChjcGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyPW5ldyBVc2VyKHtuYW1lLGVtYWlsLHBhc3N3b3JkLGNwYXNzd29yZCxtb2JpbGV9KTtcclxuLy9oZXJlIHdlIGFyZSB1c2luZyBtaWRkbGV3YXJlXHJcbiAgICAgICAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe21hc3NhZ2U6XCJVc2VyIFJlZ2lzdGVyIHN1Y2Nlc2Z1bGx5XCJ9KTtcclxuICAgICAgICB9XHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG5cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICB0cnl7XHJcbiAgICAgICAgY29uc3Qge2VtYWlsLHBhc3N3b3JkfT1yZXEuYm9keTtcclxuICAgIGlmKCFlbWFpbHx8IXBhc3N3b3JkKXtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttYXNzYWdlOlwiUGxlYXNlIEZpbGwgQWxsIElucHV0XCJ9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IGV4aXN0VXNlcj1hd2FpdCBVc2VyLmZpbmRPbmUoe2VtYWlsOmVtYWlsfSk7XHJcbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKGV4aXN0VXNlcik7XHJcbiAgICAgICAgaWYoZXhpc3RVc2VyKXtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2hQYXNzd29yZD1hd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCxleGlzdFVzZXIucGFzc3dvcmQpXHJcblxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbj1hd2FpdCBleGlzdFVzZXIuZ2VuZXJhdGVBdXRoVG9rZW4oKTtcclxuICAgICAgICAgICAgLy8gY29uc3QgdG9rZW49and0LnNpZ24oe2lkOmV4aXN0VXNlci5faWR9LEpXVF9TRUNSRVRfS0VZLHtleHBpcmVzSW46XCIzMHNcIn0pO1xyXG4vLyBjb25zb2xlLmxvZyh0b2tlbik7XHJcblxyXG4gICAgICAgICAgICByZXMuY29va2llKFwiand0dG9rZW5cIix0b2tlbix7XHJcbiAgICAgICAgICAgIGV4cGlyZXM6bmV3IERhdGUoRGF0ZS5ub3coKSArIDEwMDAqMzApLFxyXG4gICAgICAgICAgICBodHRwT25seTp0cnVlLFxyXG4gICAgICAgICAgICBzYW1lU2l0ZTpcImxheFwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYoIW1hdGNoUGFzc3dvcmQpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttYXNzYWdlOlwiSW52YWxpZCBVc2VyXCJ9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe21hc3NhZ2U6XCJVc2VyIExvZ2luIHNlY2Nlc3NmdWxseVwiLHVzZXI6ZXhpc3RVc2VyLHRva2VufSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttYXNzYWdlOlwiSW52YWxpZCBVc2VyXCJ9KTtcclxuICAgICAgICB9XHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbiBcclxuIFxyXG5cclxubW9kdWxlLmV4cG9ydHM9cm91dGVyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFFQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2pDLE1BQU1DLElBQUksR0FBRUQsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQ3pDLE1BQU1FLE1BQU0sR0FBRUYsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNqQyxNQUFNRyxHQUFHLEdBQUNILE9BQU8sQ0FBQyxjQUFjLENBQUM7O0FBRWpDOztBQUdBLE1BQU1JLE1BQU0sR0FBQ0wsT0FBTyxDQUFDTSxNQUFNLEVBQUU7QUFFN0JELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQyxPQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBRztFQUNwQyxNQUFNO0lBQUNDLElBQUk7SUFBQ0MsS0FBSztJQUFDQyxRQUFRO0lBQUNDLFNBQVM7SUFBQ0M7RUFBTSxDQUFDLEdBQUNOLEdBQUcsQ0FBQ08sSUFBSTtFQUNyRCxJQUFHLENBQUNMLElBQUksSUFBRSxDQUFDQyxLQUFLLElBQUUsQ0FBQ0Ms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","map":{"version":3,"names":["express","require","User","bcrypt","jwt","router","Router","post","req","res","name","email","password","cpassword","mobile","body","status","json","massage","existUser","findOne","user","save","err","console","log","matchPassword","compare","token","generateAuthToken","cookie","expires","Date","now","httpOnly","sameSite","module","exports"],"sourceRoot":"C:\\Users\\hp\\Desktop\\react-node-mongo\\backend(thapatechnical)\\routes\\","sources":["UserRouter.js"],"sourcesContent":["const express =require(\"express\");\r\nconst User= require('../model/UserModel');\r\nconst bcrypt= require(\"bcryptjs\");\r\nconst jwt=require(\"jsonwebtoken\");   \r\n\r\n// const authenticate =require(\"../middleware/authenticate\");\r\n \r\n\r\nconst router=express.Router();\r\n\r\nrouter.post(\"/register\",async(req,res)=>{\r\n    const {name,email,password,cpassword,mobile}=req.body;\r\n    if(!name||!email||!password||!cpassword||!mobile){\r\n      return res.status(404).json({massage:\"Please Fill All Input\"});\r\n    }\r\n    try{\r\n        const existUser=await User.findOne({email:email});\r\n        //  console.log(existUser);\r\n        if(existUser){\r\n            return res.status(404).json({massage:\"Invalid User\"});\r\n        }\r\n        else if(password!==cpassword){\r\n            return res.status(404).json({massage:\"Password is not matching \"});\r\n        }\r\n        else{\r\n        // const    hashpassword=await bcrypt.hash(password,10);\r\n        //  const   chashpassword=await bcrypt.hash(cpassword,10);\r\n            const user=new User({name,email,password,cpassword,mobile});\r\n//here we are using middleware\r\n            await user.save();\r\n            return res.status(201).json({massage:\"User Register succesfully\"});\r\n        }\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n\r\n});\r\n\r\nrouter.post(\"/login\",async(req,res)=>{\r\n    try{\r\n        const {email,password}=req.body;\r\n    if(!email||!password){\r\n      return res.status(404).json({massage:\"Please Fill All Input\"});\r\n    }\r\n    const existUser=await User.findOne({email:email});\r\n        //  console.log(existUser);\r\n        if(existUser){\r\n            const matchPassword=await bcrypt.compare(password,existUser.password)\r\n\r\n            const token=await existUser.generateAuthToken();\r\n            // const token=jwt.sign({id:existUser._id},JWT_SECRET_KEY,{expiresIn:\"30s\"});\r\n// console.log(token);\r\n\r\n            res.cookie(\"jwttoken\",token,{\r\n            expires:new Date(Date.now() + 1000*30),\r\n            httpOnly:true,\r\n            sameSite:\"lax\",\r\n            });\r\n            if(!matchPassword){\r\n                return res.status(404).json({massage:\"Invalid User\"});\r\n            }else{\r\n                return res.status(201).json({massage:\"User Login seccessfully\",user:existUser,token});\r\n            }\r\n        }\r\n        else{\r\n            return res.status(404).json({massage:\"Invalid User\"});\r\n        }\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n});\r\n\r\n \r\n \r\n\r\nmodule.exports=router;"],"mappings":"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"}},"mtime":1678026880466},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\\\\model\\\\UserModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const mongoose = require(\"mongoose\");\nconst bcrypt = require(\"bcryptjs\");\nconst jwt = require(\"jsonwebtoken\");\nconst JWT_SECRET_KEY = \"mypetnameisgajjuitisaverymotherfucker\";\nconst UserSchema = mongoose.Schema({\n  name: {\n    type: String,\n    required: [true, \"Name is required\"],\n    lowercase: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    required: [true, \"Email is required\"],\n    unique: true,\n    lowercase: true,\n    trim: true\n  },\n  password: {\n    type: String,\n    required: [true, \"Password is required\"],\n    minlength: 6,\n    trim: true\n  },\n  cpassword: {\n    type: String,\n    required: [true, \"cPassword is required\"],\n    minlength: 6,\n    trim: true\n  },\n  mobile: {\n    type: Number,\n    required: [true, \"Mobile number is required\"],\n    minlength: 10,\n    maxlength: 12,\n    trim: true\n  },\n  tokens: [{\n    token: {\n      type: String,\n      required: [true, \"token is required\"]\n    }\n  }]\n});\nUserSchema.pre('save', async function (next) {\n  if (this.isModified(\"password\")) {\n    this.password = await bcrypt.hash(this.password, 10);\n    this.cpassword = await bcrypt.hash(this.cpassword, 10);\n  }\n  next();\n});\n\n//we are generating a token\nUserSchema.methods.generateAuthToken = async function () {\n  try {\n    let token = jwt.sign({\n      _id: this._id\n    }, JWT_SECRET_KEY, {\n      expiresIn: \"1h\"\n    });\n    this.tokens = this.tokens.concat({\n      token: token\n    });\n    await this.save();\n    return token;\n  } catch (err) {\n    console.log(err);\n  }\n};\nmodule.exports = mongoose.model(\"User\", UserSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJiY3J5cHQiLCJqd3QiLCJKV1RfU0VDUkVUX0tFWSIsIlVzZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibG93ZXJjYXNlIiwidHJpbSIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJtaW5sZW5ndGgiLCJjcGFzc3dvcmQiLCJtb2JpbGUiLCJOdW1iZXIiLCJtYXhsZW5ndGgiLCJ0b2tlbnMiLCJ0b2tlbiIsInByZSIsIm5leHQiLCJpc01vZGlmaWVkIiwiaGFzaCIsIm1ldGhvZHMiLCJnZW5lcmF0ZUF1dGhUb2tlbiIsInNpZ24iLCJfaWQiLCJleHBpcmVzSW4iLCJjb25jYXQiLCJzYXZlIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxocFxcRGVza3RvcFxccmVhY3Qtbm9kZS1tb25nb1xcYmFja2VuZCh0aGFwYXRlY2huaWNhbClcXG1vZGVsXFwiLCJzb3VyY2VzIjpbIlVzZXJNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZT1yZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbmNvbnN0IGJjcnlwdD0gcmVxdWlyZShcImJjcnlwdGpzXCIpO1xyXG5jb25zdCBqd3Q9cmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsgICBcclxuY29uc3QgSldUX1NFQ1JFVF9LRVk9XCJteXBldG5hbWVpc2dhamp1aXRpc2F2ZXJ5bW90aGVyZnVja2VyXCI7XHJcbmNvbnN0IFVzZXJTY2hlbWE9IG1vbmdvb3NlLlNjaGVtYSh7XHJcbm5hbWU6e1xyXG4gICAgdHlwZTpTdHJpbmcsXHJcbiAgICByZXF1aXJlZDpbdHJ1ZSxcIk5hbWUgaXMgcmVxdWlyZWRcIl0sXHJcbiAgICBsb3dlcmNhc2U6dHJ1ZSxcclxuICAgIHRyaW06dHJ1ZVxyXG59LFxyXG5lbWFpbDp7XHJcbiAgICB0eXBlOlN0cmluZyxcclxuICAgIHJlcXVpcmVkOlt0cnVlLFwiRW1haWwgaXMgcmVxdWlyZWRcIl0sXHJcbiAgICB1bmlxdWU6dHJ1ZSxcclxuICAgIGxvd2VyY2FzZTp0cnVlLFxyXG4gICAgdHJpbTp0cnVlXHJcbn0sXHJcbnBhc3N3b3JkOntcclxuICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6W3RydWUsXCJQYXNzd29yZCBpcyByZXF1aXJlZFwiXSxcclxuICAgIG1pbmxlbmd0aDo2LFxyXG4gICAgdHJpbTp0cnVlXHJcbn0sXHJcbmNwYXNzd29yZDp7XHJcbiAgICB0eXBlOlN0cmluZyxcclxuICAgIHJlcXVpcmVkOlt0cnVlLFwiY1Bhc3N3b3JkIGlzIHJlcXVpcmVkXCJdLFxyXG4gICAgbWlubGVuZ3RoOjYsXHJcbiAgICB0cmltOnRydWVcclxufSxcclxubW9iaWxlOntcclxuICAgIHR5cGU6TnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6W3RydWUsXCJNb2JpbGUgbnVtYmVyIGlzIHJlcXVpcmVkXCJdLFxyXG4gICAgIG1pbmxlbmd0aDoxMCxcclxuICAgICBtYXhsZW5ndGg6MTIsXHJcbiAgICB0cmltOnRydWVcclxufSxcclxudG9rZW5zOlt7XHJcbiAgICB0b2tlbjp7XHJcbiAgICAgICAgdHlwZTpTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6W3RydWUsXCJ0b2tlbiBpcyByZXF1aXJlZFwiXSxcclxuICAgIH1cclxufV1cclxufSlcclxuXHJcblVzZXJTY2hlbWEucHJlKCdzYXZlJyxhc3luYyBmdW5jdGlvbihuZXh0KXtcclxuICAgIGlmKHRoaXMuaXNNb2RpZmllZChcInBhc3N3b3JkXCIpKXtcclxudGhpcy5wYXNzd29yZD1hd2FpdCBiY3J5cHQuaGFzaCh0aGlzLnBhc3N3b3JkLDEwKTtcclxudGhpcy5jcGFzc3dvcmQ9YXdhaXQgYmNyeXB0Lmhhc2godGhpcy5jcGFzc3dvcmQsMTApO1xyXG4gICAgfVxyXG5uZXh0KCk7XHJcbn0pXHJcblxyXG5cclxuLy93ZSBhcmUgZ2VuZXJhdGluZyBhIHRva2VuXHJcblVzZXJTY2hlbWEubWV0aG9kcy5nZW5lcmF0ZUF1dGhUb2tlbj1hc3luYyBmdW5jdGlvbigpe1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGxldCB0b2tlbj1qd3Quc2lnbih7X2lkOnRoaXMuX2lkfSxKV1RfU0VDUkVUX0tFWSx7ZXhwaXJlc0luOlwiMWhcIn0pXHJcbiAgICAgICAgdGhpcy50b2tlbnM9dGhpcy50b2tlbnMuY29uY2F0KHt0b2tlbjp0b2tlbn0pO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZSgpO1xyXG4gICAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzPW1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLFVzZXJTY2hlbWEpOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsUUFBUSxHQUFDQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBRUQsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNqQyxNQUFNRSxHQUFHLEdBQUNGLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFDakMsTUFBTUcsY0FBYyxHQUFDLHVDQUF1QztBQUM1RCxNQUFNQyxVQUFVLEdBQUVMLFFBQVEsQ0FBQ00sTUFBTSxDQUFDO0VBQ2xDQyxJQUFJLEVBQUM7SUFDREMsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQyxDQUFDLElBQUksRUFBQyxrQkFBa0IsQ0FBQztJQUNsQ0MsU0FBUyxFQUFDLElBQUk7SUFDZEMsSUFBSSxFQUFDO0VBQ1QsQ0FBQztFQUNEQyxLQUFLLEVBQUM7SUFDRkwsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQyxDQUFDLElBQUksRUFBQyxtQkFBbUIsQ0FBQztJQUNuQ0ksTUFBTSxFQUFDLElBQUk7SUFDWEgsU0FBUyxFQUFDLElBQUk7SUFDZEMsSUFBSSxFQUFDO0VBQ1QsQ0FBQztFQUNERyxRQUFRLEVBQUM7SUFDTFAsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQyxDQUFDLElBQUksRUFBQyxzQkFBc0IsQ0FBQztJQUN0Q00sU0FBUyxFQUFDLENBQUM7SUFDWEosSUFBSSxFQUFDO0VBQ1QsQ0FBQztFQUNESyxTQUFTLEVBQUM7SUFDTlQsSUFBSSxFQUFDQyxNQUFNO0lBQ1hDLFFBQVEsRUFBQyxDQUFDLElBQUksRUFBQyx1QkFBdUIsQ0FBQztJQUN2Q00sU0FBUyxFQUFDLENBQUM7SUFDWEosSUFBSSxFQUFDO0VBQ1QsQ0FBQztFQUNETSxNQUFNLEVBQUM7SUFDSFYsSUFBSSxFQUFDVyxNQUFNO0lBQ1hULFFBQVEsRUFBQyxDQUFDLElBQUksRUFBQywyQkFBMkIsQ0FBQztJQUMxQ00sU0FBUyxFQUFDLEVBQUU7SUFDWkksU0FBUyxFQUFDLEVBQUU7SUFDYlIsSUFBSSxFQUFDO0VBQ1QsQ0FBQztFQUNEUyxNQUFNLEVBQUMsQ0FBQztJQUNKQyxLQUFLLEVBQUM7TUFDRmQsSUFBSSxFQUFDQyxNQUFNO01BQ1hDLFFBQVEsRUFBQyxDQUFDLElBQUksRUFBQyxtQkFBbUI7SUFDdEM7RUFDSixDQUFDO0FBQ0QsQ0FBQyxDQUFDO0FBRUZMLFVBQVUsQ0FBQ2tCLEdBQUcsQ0FBQyxNQUFNLEVBQUMsZ0JBQWVDLElBQUksRUFBQztFQUN0QyxJQUFHLElBQUksQ0FBQ0MsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFDO0lBQ25DLElBQUksQ0FBQ1YsUUFBUSxHQUFDLE1BQU1iLE1BQU0sQ0FBQ3dCLElBQUksQ0FBQyxJQUFJLENBQUNYLFFBQVEsRUFBQyxFQUFFLENBQUM7SUFDakQsSUFBSSxDQUFDRSxTQUFTLEdBQUMsTUFBTWYsTUFBTSxDQUFDd0IsSUFBSSxDQUFDLElBQUksQ0FBQ1QsU0FBUyxFQUFDLEVBQUUsQ0FBQztFQUMvQztFQUNKTyxJQUFJLEVBQUU7QUFDTixDQUFDLENBQUM7O0FBR0Y7QUFDQW5CLFVBQVUsQ0FBQ3NCLE9BQU8sQ0FBQ0MsaUJBQWlCLEdBQUMsa0JBQWdCO0VBQ2pELElBQUc7SUFDQyxJQUFJTixLQUFLLEdBQUNuQixHQUFHLENBQUMwQixJQUFJLENBQUM7TUFBQ0MsR0FBRyxFQUFDLElBQUksQ0FBQ0E7SUFBRyxDQUFDLEVBQUMxQixjQUFjLEVBQUM7TUFBQzJCLFNBQVMsRUFBQztJQUFJLENBQUMsQ0FBQztJQUNsRSxJQUFJLENBQUNWLE1BQU0sR0FBQyxJQUFJLENBQUNBLE1BQU0sQ0FBQ1csTUFBTSxDQUFDO01BQUNWLEtBQUssRUFBQ0E7SUFBSyxDQUFDLENBQUM7SUFDN0MsTUFBTSxJQUFJLENBQUNXLElBQUksRUFBRTtJQUNqQixPQUFPWCxLQUFLO0VBQ2hCLENBQUMsUUFBTVksR0FBRyxFQUFDO0lBQ1BDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixHQUFHLENBQUM7RUFDcEI7QUFDSixDQUFDO0FBRURHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFDdEMsUUFBUSxDQUFDdUMsS0FBSyxDQUFDLE1BQU0sRUFBQ2xDLFVBQVUsQ0FBQyJ9","map":{"version":3,"names":["mongoose","require","bcrypt","jwt","JWT_SECRET_KEY","UserSchema","Schema","name","type","String","required","lowercase","trim","email","unique","password","minlength","cpassword","mobile","Number","maxlength","tokens","token","pre","next","isModified","hash","methods","generateAuthToken","sign","_id","expiresIn","concat","save","err","console","log","module","exports","model"],"sourceRoot":"C:\\Users\\hp\\Desktop\\react-node-mongo\\backend(thapatechnical)\\model\\","sources":["UserModel.js"],"sourcesContent":["const mongoose=require(\"mongoose\");\r\nconst bcrypt= require(\"bcryptjs\");\r\nconst jwt=require(\"jsonwebtoken\");   \r\nconst JWT_SECRET_KEY=\"mypetnameisgajjuitisaverymotherfucker\";\r\nconst UserSchema= mongoose.Schema({\r\nname:{\r\n    type:String,\r\n    required:[true,\"Name is required\"],\r\n    lowercase:true,\r\n    trim:true\r\n},\r\nemail:{\r\n    type:String,\r\n    required:[true,\"Email is required\"],\r\n    unique:true,\r\n    lowercase:true,\r\n    trim:true\r\n},\r\npassword:{\r\n    type:String,\r\n    required:[true,\"Password is required\"],\r\n    minlength:6,\r\n    trim:true\r\n},\r\ncpassword:{\r\n    type:String,\r\n    required:[true,\"cPassword is required\"],\r\n    minlength:6,\r\n    trim:true\r\n},\r\nmobile:{\r\n    type:Number,\r\n    required:[true,\"Mobile number is required\"],\r\n     minlength:10,\r\n     maxlength:12,\r\n    trim:true\r\n},\r\ntokens:[{\r\n    token:{\r\n        type:String,\r\n        required:[true,\"token is required\"],\r\n    }\r\n}]\r\n})\r\n\r\nUserSchema.pre('save',async function(next){\r\n    if(this.isModified(\"password\")){\r\nthis.password=await bcrypt.hash(this.password,10);\r\nthis.cpassword=await bcrypt.hash(this.cpassword,10);\r\n    }\r\nnext();\r\n})\r\n\r\n\r\n//we are generating a token\r\nUserSchema.methods.generateAuthToken=async function(){\r\n    try{\r\n        let token=jwt.sign({_id:this._id},JWT_SECRET_KEY,{expiresIn:\"1h\"})\r\n        this.tokens=this.tokens.concat({token:token});\r\n        await this.save();\r\n        return token;\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nmodule.exports=mongoose.model(\"User\",UserSchema);"],"mappings":"AAAA,MAAMA,QAAQ,GAACC,OAAO,CAAC,UAAU,CAAC;AAClC,MAAMC,MAAM,GAAED,OAAO,CAAC,UAAU,CAAC;AACjC,MAAME,GAAG,GAACF,OAAO,CAAC,cAAc,CAAC;AACjC,MAAMG,cAAc,GAAC,uCAAuC;AAC5D,MAAMC,UAAU,GAAEL,QAAQ,CAACM,MAAM,CAAC;EAClCC,IAAI,EAAC;IACDC,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,kBAAkB,CAAC;IAClCC,SAAS,EAAC,IAAI;IACdC,IAAI,EAAC;EACT,CAAC;EACDC,KAAK,EAAC;IACFL,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,mBAAmB,CAAC;IACnCI,MAAM,EAAC,IAAI;IACXH,SAAS,EAAC,IAAI;IACdC,IAAI,EAAC;EACT,CAAC;EACDG,QAAQ,EAAC;IACLP,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,sBAAsB,CAAC;IACtCM,SAAS,EAAC,CAAC;IACXJ,IAAI,EAAC;EACT,CAAC;EACDK,SAAS,EAAC;IACNT,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,uBAAuB,CAAC;IACvCM,SAAS,EAAC,CAAC;IACXJ,IAAI,EAAC;EACT,CAAC;EACDM,MAAM,EAAC;IACHV,IAAI,EAACW,MAAM;IACXT,QAAQ,EAAC,CAAC,IAAI,EAAC,2BAA2B,CAAC;IAC1CM,SAAS,EAAC,EAAE;IACZI,SAAS,EAAC,EAAE;IACbR,IAAI,EAAC;EACT,CAAC;EACDS,MAAM,EAAC,CAAC;IACJC,KAAK,EAAC;MACFd,IAAI,EAACC,MAAM;MACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,mBAAmB;IACtC;EACJ,CAAC;AACD,CAAC,CAAC;AAEFL,UAAU,CAACkB,GAAG,CAAC,MAAM,EAAC,gBAAeC,IAAI,EAAC;EACtC,IAAG,IAAI,CAACC,UAAU,CAAC,UAAU,CAAC,EAAC;IACnC,IAAI,CAACV,QAAQ,GAAC,MAAMb,MAAM,CAACwB,IAAI,CAAC,IAAI,CAACX,QAAQ,EAAC,EAAE,CAAC;IACjD,IAAI,CAACE,SAAS,GAAC,MAAMf,MAAM,CAACwB,IAAI,CAAC,IAAI,CAACT,SAAS,EAAC,EAAE,CAAC;EAC/C;EACJO,IAAI,EAAE;AACN,CAAC,CAAC;;AAGF;AACAnB,UAAU,CAACsB,OAAO,CAACC,iBAAiB,GAAC,kBAAgB;EACjD,IAAG;IACC,IAAIN,KAAK,GAACnB,GAAG,CAAC0B,IAAI,CAAC;MAACC,GAAG,EAAC,IAAI,CAACA;IAAG,CAAC,EAAC1B,cAAc,EAAC;MAAC2B,SAAS,EAAC;IAAI,CAAC,CAAC;IAClE,IAAI,CAACV,MAAM,GAAC,IAAI,CAACA,MAAM,CAACW,MAAM,CAAC;MAACV,KAAK,EAACA;IAAK,CAAC,CAAC;IAC7C,MAAM,IAAI,CAACW,IAAI,EAAE;IACjB,OAAOX,KAAK;EAChB,CAAC,QAAMY,GAAG,EAAC;IACPC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;AACJ,CAAC;AAEDG,MAAM,CAACC,OAAO,GAACtC,QAAQ,CAACuC,KAAK,CAAC,MAAM,EAAClC,UAAU,CAAC"}},"mtime":1678019333620},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\\\\middleware\\\\authenticate.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\react-node-mongo\\\\backend(thapatechnical)\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const User = require('../model/UserModel');\nconst jwt = require(\"jsonwebtoken\");\nconst authenticate = async (req, res, next) => {\n  try {\n    const token = req.cookies.jwttoken;\n    console.log(token);\n    const verifytoken = jwt.verify(token, JWT_SECRET_KEY);\n    const rootuser = await User.findOne({\n      _id: verifytoken._id,\n      \"tokens.token\": token\n    });\n    if (!rootuser) {\n      throw new Error(\"user not found\");\n    }\n    req.token = token;\n    req.rootuser = rootuser;\n    req.userID = rootuser._id;\n    next();\n  } catch (err) {\n    res.status(404).send(\"unauthorized:no token provide\");\n    console.log(err);\n  }\n};\nmodule.exports = authenticate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVc2VyIiwicmVxdWlyZSIsImp3dCIsImF1dGhlbnRpY2F0ZSIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImNvb2tpZXMiLCJqd3R0b2tlbiIsImNvbnNvbGUiLCJsb2ciLCJ2ZXJpZnl0b2tlbiIsInZlcmlmeSIsIkpXVF9TRUNSRVRfS0VZIiwicm9vdHVzZXIiLCJmaW5kT25lIiwiX2lkIiwiRXJyb3IiLCJ1c2VySUQiLCJlcnIiLCJzdGF0dXMiLCJzZW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxocFxcRGVza3RvcFxccmVhY3Qtbm9kZS1tb25nb1xcYmFja2VuZCh0aGFwYXRlY2huaWNhbClcXG1pZGRsZXdhcmVcXCIsInNvdXJjZXMiOlsiYXV0aGVudGljYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFVzZXI9IHJlcXVpcmUoJy4uL21vZGVsL1VzZXJNb2RlbCcpO1xyXG5jb25zdCBqd3Q9cmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsgICBcclxuXHJcblxyXG5cclxuXHJcbiBjb25zdCBhdXRoZW50aWNhdGU9YXN5bmMocmVxLHJlcyxuZXh0KT0+e1xyXG50cnl7XHJcbiAgICBjb25zdCB0b2tlbj1yZXEuY29va2llcy5qd3R0b2tlbjtcclxuICAgIGNvbnNvbGUubG9nKHRva2VuKTtcclxuICAgIGNvbnN0IHZlcmlmeXRva2VuPWp3dC52ZXJpZnkodG9rZW4sSldUX1NFQ1JFVF9LRVkpO1xyXG5cclxuICAgIGNvbnN0IHJvb3R1c2VyPWF3YWl0IFVzZXIuZmluZE9uZSh7X2lkOnZlcmlmeXRva2VuLl9pZCxcInRva2Vucy50b2tlblwiOnRva2VufSk7XHJcblxyXG4gICAgaWYoIXJvb3R1c2VyKXtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VyIG5vdCBmb3VuZFwiKTtcclxuICAgIH1cclxuICAgIHJlcS50b2tlbj10b2tlbjtcclxuICAgIHJlcS5yb290dXNlcj1yb290dXNlcjtcclxuICAgIHJlcS51c2VySUQ9cm9vdHVzZXIuX2lkO1xyXG5cclxuICAgIG5leHQoKTtcclxuXHJcbn1jYXRjaChlcnIpe1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoXCJ1bmF1dGhvcml6ZWQ6bm8gdG9rZW4gcHJvdmlkZVwiKTtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbn1cclxuXHJcbiB9XHJcbiBtb2R1bGUuZXhwb3J0cz1hdXRoZW50aWNhdGU7Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUVDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUN6QyxNQUFNQyxHQUFHLEdBQUNELE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFLaEMsTUFBTUUsWUFBWSxHQUFDLE9BQU1DLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxJQUFJLEtBQUc7RUFDekMsSUFBRztJQUNDLE1BQU1DLEtBQUssR0FBQ0gsR0FBRyxDQUFDSSxPQUFPLENBQUNDLFFBQVE7SUFDaENDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDbEIsTUFBTUssV0FBVyxHQUFDVixHQUFHLENBQUNXLE1BQU0sQ0FBQ04sS0FBSyxFQUFDTyxjQUFjLENBQUM7SUFFbEQsTUFBTUMsUUFBUSxHQUFDLE1BQU1mLElBQUksQ0FBQ2dCLE9BQU8sQ0FBQztNQUFDQyxHQUFHLEVBQUNMLFdBQVcsQ0FBQ0ssR0FBRztNQUFDLGNBQWMsRUFBQ1Y7SUFBSyxDQUFDLENBQUM7SUFFN0UsSUFBRyxDQUFDUSxRQUFRLEVBQUM7TUFDVCxNQUFNLElBQUlHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztJQUNyQztJQUNBZCxHQUFHLENBQUNHLEtBQUssR0FBQ0EsS0FBSztJQUNmSCxHQUFHLENBQUNXLFFBQVEsR0FBQ0EsUUFBUTtJQUNyQlgsR0FBRyxDQUFDZSxNQUFNLEdBQUNKLFFBQVEsQ0FBQ0UsR0FBRztJQUV2QlgsSUFBSSxFQUFFO0VBRVYsQ0FBQyxRQUFNYyxHQUFHLEVBQUM7SUFDUGYsR0FBRyxDQUFDZ0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsK0JBQStCLENBQUM7SUFDckRaLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUyxHQUFHLENBQUM7RUFDcEI7QUFFQyxDQUFDO0FBQ0RHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFDckIsWUFBWSJ9","map":{"version":3,"names":["User","require","jwt","authenticate","req","res","next","token","cookies","jwttoken","console","log","verifytoken","verify","JWT_SECRET_KEY","rootuser","findOne","_id","Error","userID","err","status","send","module","exports"],"sourceRoot":"C:\\Users\\hp\\Desktop\\react-node-mongo\\backend(thapatechnical)\\middleware\\","sources":["authenticate.js"],"sourcesContent":["const User= require('../model/UserModel');\r\nconst jwt=require(\"jsonwebtoken\");   \r\n\r\n\r\n\r\n\r\n const authenticate=async(req,res,next)=>{\r\ntry{\r\n    const token=req.cookies.jwttoken;\r\n    console.log(token);\r\n    const verifytoken=jwt.verify(token,JWT_SECRET_KEY);\r\n\r\n    const rootuser=await User.findOne({_id:verifytoken._id,\"tokens.token\":token});\r\n\r\n    if(!rootuser){\r\n        throw new Error(\"user not found\");\r\n    }\r\n    req.token=token;\r\n    req.rootuser=rootuser;\r\n    req.userID=rootuser._id;\r\n\r\n    next();\r\n\r\n}catch(err){\r\n    res.status(404).send(\"unauthorized:no token provide\");\r\n    console.log(err);\r\n}\r\n\r\n }\r\n module.exports=authenticate;"],"mappings":"AAAA,MAAMA,IAAI,GAAEC,OAAO,CAAC,oBAAoB,CAAC;AACzC,MAAMC,GAAG,GAACD,OAAO,CAAC,cAAc,CAAC;AAKhC,MAAME,YAAY,GAAC,OAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAG;EACzC,IAAG;IACC,MAAMC,KAAK,GAACH,GAAG,CAACI,OAAO,CAACC,QAAQ;IAChCC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IAClB,MAAMK,WAAW,GAACV,GAAG,CAACW,MAAM,CAACN,KAAK,EAACO,cAAc,CAAC;IAElD,MAAMC,QAAQ,GAAC,MAAMf,IAAI,CAACgB,OAAO,CAAC;MAACC,GAAG,EAACL,WAAW,CAACK,GAAG;MAAC,cAAc,EAACV;IAAK,CAAC,CAAC;IAE7E,IAAG,CAACQ,QAAQ,EAAC;MACT,MAAM,IAAIG,KAAK,CAAC,gBAAgB,CAAC;IACrC;IACAd,GAAG,CAACG,KAAK,GAACA,KAAK;IACfH,GAAG,CAACW,QAAQ,GAACA,QAAQ;IACrBX,GAAG,CAACe,MAAM,GAACJ,QAAQ,CAACE,GAAG;IAEvBX,IAAI,EAAE;EAEV,CAAC,QAAMc,GAAG,EAAC;IACPf,GAAG,CAACgB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,+BAA+B,CAAC;IACrDZ,OAAO,CAACC,GAAG,CAACS,GAAG,CAAC;EACpB;AAEC,CAAC;AACDG,MAAM,CAACC,OAAO,GAACrB,YAAY"}},"mtime":1678023673549},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const express = require(\"express\"); //import express from 'express';\nconst mongoose = require(\"mongoose\");\nconst router = require(\"./routes/UserRouter\");\nconst cookieParser = require(\"cookie-parser\");\nconst cors = require(\"cors\");\nconst bodyParser = require(\"body-parser\");\nconst app = express();\napp.use(express.json());\napp.use(cookieParser());\napp.use(cors());\napp.use(bodyParser());\napp.use(\"/\", router);\nmongoose.set('strictQuery', false);\nmongoose.connect(\"mongodb://127.0.0.1:27017/ThapaTechnical\").then(() => {\n  app.listen(3001);\n  console.log(\"server started at link http://localhost:3001\");\n  console.log(\"Succesfully Connected to the mongodb server\");\n}).catch(err => {\n  console.log(err);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vbmdvb3NlIiwicm91dGVyIiwiY29va2llUGFyc2VyIiwiY29ycyIsImJvZHlQYXJzZXIiLCJhcHAiLCJ1c2UiLCJqc29uIiwic2V0IiwiY29ubmVjdCIsInRoZW4iLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcaHBcXERlc2t0b3BcXHRoYXBhXFxyZWFjdC1ub2RlLW1vbmdvXFxiYWNrZW5kKHRoYXBhdGVjaG5pY2FsKVxcIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9cmVxdWlyZShcImV4cHJlc3NcIik7IC8vaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmNvbnN0IG1vbmdvb3NlPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbmNvbnN0IHJvdXRlciA9IHJlcXVpcmUoXCIuL3JvdXRlcy9Vc2VyUm91dGVyXCIpO1xyXG5jb25zdCBjb29raWVQYXJzZXI9cmVxdWlyZShcImNvb2tpZS1wYXJzZXJcIik7XHJcbmNvbnN0IGNvcnM9cmVxdWlyZShcImNvcnNcIik7XHJcbmNvbnN0IGJvZHlQYXJzZXI9cmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xyXG5cclxuY29uc3QgYXBwPWV4cHJlc3MoKTtcclxuXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG4gYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XHJcbmFwcC51c2UoY29ycygpKTtcclxuYXBwLnVzZShib2R5UGFyc2VyKCkpO1xyXG5cclxuYXBwLnVzZShcIi9cIixyb3V0ZXIpO1xyXG5cclxubW9uZ29vc2Uuc2V0KCdzdHJpY3RRdWVyeScsIGZhbHNlKTtcclxubW9uZ29vc2UuY29ubmVjdChcIm1vbmdvZGI6Ly8xMjcuMC4wLjE6MjcwMTcvVGhhcGFUZWNobmljYWxcIikudGhlbigoKT0+e1xyXG5hcHAubGlzdGVuKDMwMDEpO1xyXG5jb25zb2xlLmxvZyhcInNlcnZlciBzdGFydGVkIGF0IGxpbmsgaHR0cDovL2xvY2FsaG9zdDozMDAxXCIpO1xyXG4gICAgY29uc29sZS5sb2coXCJTdWNjZXNmdWxseSBDb25uZWN0ZWQgdG8gdGhlIG1vbmdvZGIgc2VydmVyXCIpO1xyXG59KS5jYXRjaCgoZXJyKT0+e1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxufSlcclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFFQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztBQUNuQyxNQUFNQyxRQUFRLEdBQUVELE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDbkMsTUFBTUUsTUFBTSxHQUFHRixPQUFPLENBQUMscUJBQXFCLENBQUM7QUFDN0MsTUFBTUcsWUFBWSxHQUFDSCxPQUFPLENBQUMsZUFBZSxDQUFDO0FBQzNDLE1BQU1JLElBQUksR0FBQ0osT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUMxQixNQUFNSyxVQUFVLEdBQUNMLE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFFdkMsTUFBTU0sR0FBRyxHQUFDUCxPQUFPLEVBQUU7QUFFbkJPLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDUixPQUFPLENBQUNTLElBQUksRUFBRSxDQUFDO0FBQ3RCRixHQUFHLENBQUNDLEdBQUcsQ0FBQ0osWUFBWSxFQUFFLENBQUM7QUFDeEJHLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDSCxJQUFJLEVBQUUsQ0FBQztBQUNmRSxHQUFHLENBQUNDLEdBQUcsQ0FBQ0YsVUFBVSxFQUFFLENBQUM7QUFFckJDLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLEdBQUcsRUFBQ0wsTUFBTSxDQUFDO0FBRW5CRCxRQUFRLENBQUNRLEdBQUcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDO0FBQ2xDUixRQUFRLENBQUNTLE9BQU8sQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDQyxJQUFJLENBQUMsTUFBSTtFQUN0RUwsR0FBRyxDQUFDTSxNQUFNLENBQUMsSUFBSSxDQUFDO0VBQ2hCQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyw4Q0FBOEMsQ0FBQztFQUN2REQsT0FBTyxDQUFDQyxHQUFHLENBQUMsNkNBQTZDLENBQUM7QUFDOUQsQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBRUMsR0FBRyxJQUFHO0VBQ1pILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUM7QUFDcEIsQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["express","require","mongoose","router","cookieParser","cors","bodyParser","app","use","json","set","connect","then","listen","console","log","catch","err"],"sourceRoot":"C:\\Users\\hp\\Desktop\\thapa\\react-node-mongo\\backend(thapatechnical)\\","sources":["app.js"],"sourcesContent":["const express =require(\"express\"); //import express from 'express';\r\nconst mongoose= require(\"mongoose\");\r\nconst router = require(\"./routes/UserRouter\");\r\nconst cookieParser=require(\"cookie-parser\");\r\nconst cors=require(\"cors\");\r\nconst bodyParser=require(\"body-parser\");\r\n\r\nconst app=express();\r\n\r\napp.use(express.json());\r\n app.use(cookieParser());\r\napp.use(cors());\r\napp.use(bodyParser());\r\n\r\napp.use(\"/\",router);\r\n\r\nmongoose.set('strictQuery', false);\r\nmongoose.connect(\"mongodb://127.0.0.1:27017/ThapaTechnical\").then(()=>{\r\napp.listen(3001);\r\nconsole.log(\"server started at link http://localhost:3001\");\r\n    console.log(\"Succesfully Connected to the mongodb server\");\r\n}).catch((err)=>{\r\n    console.log(err);\r\n})\r\n\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAEC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;AACnC,MAAMC,QAAQ,GAAED,OAAO,CAAC,UAAU,CAAC;AACnC,MAAME,MAAM,GAAGF,OAAO,CAAC,qBAAqB,CAAC;AAC7C,MAAMG,YAAY,GAACH,OAAO,CAAC,eAAe,CAAC;AAC3C,MAAMI,IAAI,GAACJ,OAAO,CAAC,MAAM,CAAC;AAC1B,MAAMK,UAAU,GAACL,OAAO,CAAC,aAAa,CAAC;AAEvC,MAAMM,GAAG,GAACP,OAAO,EAAE;AAEnBO,GAAG,CAACC,GAAG,CAACR,OAAO,CAACS,IAAI,EAAE,CAAC;AACtBF,GAAG,CAACC,GAAG,CAACJ,YAAY,EAAE,CAAC;AACxBG,GAAG,CAACC,GAAG,CAACH,IAAI,EAAE,CAAC;AACfE,GAAG,CAACC,GAAG,CAACF,UAAU,EAAE,CAAC;AAErBC,GAAG,CAACC,GAAG,CAAC,GAAG,EAACL,MAAM,CAAC;AAEnBD,QAAQ,CAACQ,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;AAClCR,QAAQ,CAACS,OAAO,CAAC,0CAA0C,CAAC,CAACC,IAAI,CAAC,MAAI;EACtEL,GAAG,CAACM,MAAM,CAAC,IAAI,CAAC;EAChBC,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC;EACvDD,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;AAC9D,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,IAAG;EACZH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;AACpB,CAAC,CAAC"}},"mtime":1677997239223},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\\\\routes\\\\UserRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const express = require(\"express\");\nconst User = require('../model/UserModel');\nconst bcrypt = require(\"bcryptjs\");\nconst jwt = require(\"jsonwebtoken\");\n\n// const authenticate =require(\"../middleware/authenticate\");\n\nconst router = express.Router();\n\n//user Registration\nrouter.post(\"/register\", async (req, res) => {\n  const {\n    name,\n    email,\n    password,\n    cpassword,\n    mobile\n  } = req.body;\n  if (!name || !email || !password || !cpassword || !mobile) {\n    return res.status(404).json({\n      massage: \"Please Fill All Input\"\n    });\n  }\n  try {\n    const existUser = await User.findOne({\n      email: email\n    });\n    //  console.log(existUser);\n    if (existUser) {\n      return res.status(404).json({\n        massage: \"Invalid User\"\n      });\n    } else if (password !== cpassword) {\n      return res.status(404).json({\n        massage: \"Password is not matching \"\n      });\n    } else {\n      // const    hashpassword=await bcrypt.hash(password,10);\n      //  const   chashpassword=await bcrypt.hash(cpassword,10);\n      const user = new User({\n        name,\n        email,\n        password,\n        cpassword,\n        mobile\n      });\n      //here we are using middleware\n      await user.save();\n      return res.status(201).json({\n        massage: \"User Register succesfully\"\n      });\n    }\n  } catch (err) {\n    console.log(err);\n  }\n});\n\n//User Login\nrouter.post(\"/login\", async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    if (!email || !password) {\n      return res.status(404).json({\n        massage: \"Please Fill All Input\"\n      });\n    }\n    const existUser = await User.findOne({\n      email: email\n    });\n    //  console.log(existUser);\n    if (existUser) {\n      const matchPassword = await bcrypt.compare(password, existUser.password);\n      const token = await existUser.generateAuthToken();\n      // const token=jwt.sign({id:existUser._id},JWT_SECRET_KEY,{expiresIn:\"30s\"});\n      // console.log(token);\n      res.cookie(\"jwttoken\", token, {\n        expires: new Date(Date.now() + 1000 * 30),\n        path: \"/\",\n        httpOnly: true,\n        sameSite: \"lax\"\n      });\n      if (!matchPassword) {\n        return res.status(404).json({\n          massage: \"Invalid User\"\n        });\n      } else {\n        return res.status(201).json({\n          massage: \"User Login seccessfully\",\n          user: existUser,\n          token\n        });\n      }\n    } else {\n      return res.status(404).json({\n        massage: \"Invalid User\"\n      });\n    }\n  } catch (err) {\n    console.log(err);\n  }\n});\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIlVzZXIiLCJiY3J5cHQiLCJqd3QiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwicmVxIiwicmVzIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJjcGFzc3dvcmQiLCJtb2JpbGUiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsIm1hc3NhZ2UiLCJleGlzdFVzZXIiLCJmaW5kT25lIiwidXNlciIsInNhdmUiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibWF0Y2hQYXNzd29yZCIsImNvbXBhcmUiLCJ0b2tlbiIsImdlbmVyYXRlQXV0aFRva2VuIiwiY29va2llIiwiZXhwaXJlcyIsIkRhdGUiLCJub3ciLCJwYXRoIiwiaHR0cE9ubHkiLCJzYW1lU2l0ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcaHBcXERlc2t0b3BcXHRoYXBhXFxyZWFjdC1ub2RlLW1vbmdvXFxiYWNrZW5kKHRoYXBhdGVjaG5pY2FsKVxccm91dGVzXFwiLCJzb3VyY2VzIjpbIlVzZXJSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9cmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IFVzZXI9IHJlcXVpcmUoJy4uL21vZGVsL1VzZXJNb2RlbCcpO1xyXG5jb25zdCBiY3J5cHQ9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTtcclxuY29uc3Qgand0PXJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7ICAgXHJcblxyXG4vLyBjb25zdCBhdXRoZW50aWNhdGUgPXJlcXVpcmUoXCIuLi9taWRkbGV3YXJlL2F1dGhlbnRpY2F0ZVwiKTtcclxuIFxyXG5cclxuY29uc3Qgcm91dGVyPWV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5cclxuLy91c2VyIFJlZ2lzdHJhdGlvblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICBjb25zdCB7bmFtZSxlbWFpbCxwYXNzd29yZCxjcGFzc3dvcmQsbW9iaWxlfT1yZXEuYm9keTtcclxuICAgIGlmKCFuYW1lfHwhZW1haWx8fCFwYXNzd29yZHx8IWNwYXNzd29yZHx8IW1vYmlsZSl7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWFzc2FnZTpcIlBsZWFzZSBGaWxsIEFsbCBJbnB1dFwifSk7XHJcbiAgICB9XHJcbiAgICB0cnl7XHJcbiAgICAgICAgY29uc3QgZXhpc3RVc2VyPWF3YWl0IFVzZXIuZmluZE9uZSh7ZW1haWw6ZW1haWx9KTtcclxuICAgICAgICAvLyAgY29uc29sZS5sb2coZXhpc3RVc2VyKTtcclxuICAgICAgICBpZihleGlzdFVzZXIpe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe21hc3NhZ2U6XCJJbnZhbGlkIFVzZXJcIn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHBhc3N3b3JkIT09Y3Bhc3N3b3JkKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHttYXNzYWdlOlwiUGFzc3dvcmQgaXMgbm90IG1hdGNoaW5nIFwifSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgLy8gY29uc3QgICAgaGFzaHBhc3N3b3JkPWF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLDEwKTtcclxuICAgICAgICAvLyAgY29uc3QgICBjaGFzaHBhc3N3b3JkPWF3YWl0IGJjcnlwdC5oYXNoKGNwYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXI9bmV3IFVzZXIoe25hbWUsZW1haWwscGFzc3dvcmQsY3Bhc3N3b3JkLG1vYmlsZX0pO1xyXG4vL2hlcmUgd2UgYXJlIHVzaW5nIG1pZGRsZXdhcmVcclxuICAgICAgICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7bWFzc2FnZTpcIlVzZXIgUmVnaXN0ZXIgc3VjY2VzZnVsbHlcIn0pO1xyXG4gICAgICAgIH1cclxuICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcblxyXG4vL1VzZXIgTG9naW5cclxucm91dGVyLnBvc3QoXCIvbG9naW5cIixhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IHtlbWFpbCxwYXNzd29yZH09cmVxLmJvZHk7XHJcbiAgICBpZighZW1haWx8fCFwYXNzd29yZCl7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWFzc2FnZTpcIlBsZWFzZSBGaWxsIEFsbCBJbnB1dFwifSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBleGlzdFVzZXI9YXdhaXQgVXNlci5maW5kT25lKHtlbWFpbDplbWFpbH0pO1xyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhleGlzdFVzZXIpO1xyXG4gICAgICAgIGlmKGV4aXN0VXNlcil7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoUGFzc3dvcmQ9YXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsZXhpc3RVc2VyLnBhc3N3b3JkKVxyXG5cclxuICAgICAgICAgICAgY29uc3QgdG9rZW49YXdhaXQgZXhpc3RVc2VyLmdlbmVyYXRlQXV0aFRva2VuKCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHRva2VuPWp3dC5zaWduKHtpZDpleGlzdFVzZXIuX2lkfSxKV1RfU0VDUkVUX0tFWSx7ZXhwaXJlc0luOlwiMzBzXCJ9KTtcclxuLy8gY29uc29sZS5sb2codG9rZW4pO1xyXG4gICAgICAgICAgICByZXMuY29va2llKFwiand0dG9rZW5cIix0b2tlbix7XHJcbiAgICAgICAgICAgIGV4cGlyZXM6bmV3IERhdGUoRGF0ZS5ub3coKSArIDEwMDAqMzApLFxyXG4gICAgICAgICAgICBwYXRoOlwiL1wiLFxyXG4gICAgICAgICAgICBodHRwT25seTp0cnVlLFxyXG4gICAgICAgICAgICBzYW1lU2l0ZTpcImxheFwiLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmKCFtYXRjaFBhc3N3b3JkKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWFzc2FnZTpcIkludmFsaWQgVXNlclwifSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHttYXNzYWdlOlwiVXNlciBMb2dpbiBzZWNjZXNzZnVsbHlcIix1c2VyOmV4aXN0VXNlcix0b2tlbn0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7bWFzc2FnZTpcIkludmFsaWQgVXNlclwifSk7XHJcbiAgICAgICAgfVxyXG4gICAgfWNhdGNoKGVycil7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4gXHJcbiBcclxuXHJcbm1vZHVsZS5leHBvcnRzPXJvdXRlcjsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBRUMsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNqQyxNQUFNQyxJQUFJLEdBQUVELE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUN6QyxNQUFNRSxNQUFNLEdBQUVGLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDakMsTUFBTUcsR0FBRyxHQUFDSCxPQUFPLENBQUMsY0FBYyxDQUFDOztBQUVqQzs7QUFHQSxNQUFNSSxNQUFNLEdBQUNMLE9BQU8sQ0FBQ00sTUFBTSxFQUFFOztBQUc3QjtBQUNBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUMsT0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUc7RUFDcEMsTUFBTTtJQUFDQyxJQUFJO0lBQUNDLEtBQUs7SUFBQ0MsUUFBUTtJQUFD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","map":{"version":3,"names":["express","require","User","bcrypt","jwt","router","Router","post","req","res","name","email","password","cpassword","mobile","body","status","json","massage","existUser","findOne","user","save","err","console","log","matchPassword","compare","token","generateAuthToken","cookie","expires","Date","now","path","httpOnly","sameSite","module","exports"],"sourceRoot":"C:\\Users\\hp\\Desktop\\thapa\\react-node-mongo\\backend(thapatechnical)\\routes\\","sources":["UserRouter.js"],"sourcesContent":["const express =require(\"express\");\r\nconst User= require('../model/UserModel');\r\nconst bcrypt= require(\"bcryptjs\");\r\nconst jwt=require(\"jsonwebtoken\");   \r\n\r\n// const authenticate =require(\"../middleware/authenticate\");\r\n \r\n\r\nconst router=express.Router();\r\n\r\n\r\n//user Registration\r\nrouter.post(\"/register\",async(req,res)=>{\r\n    const {name,email,password,cpassword,mobile}=req.body;\r\n    if(!name||!email||!password||!cpassword||!mobile){\r\n      return res.status(404).json({massage:\"Please Fill All Input\"});\r\n    }\r\n    try{\r\n        const existUser=await User.findOne({email:email});\r\n        //  console.log(existUser);\r\n        if(existUser){\r\n            return res.status(404).json({massage:\"Invalid User\"});\r\n        }\r\n        else if(password!==cpassword){\r\n            return res.status(404).json({massage:\"Password is not matching \"});\r\n        }\r\n        else{\r\n        // const    hashpassword=await bcrypt.hash(password,10);\r\n        //  const   chashpassword=await bcrypt.hash(cpassword,10);\r\n            const user=new User({name,email,password,cpassword,mobile});\r\n//here we are using middleware\r\n            await user.save();\r\n            return res.status(201).json({massage:\"User Register succesfully\"});\r\n        }\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n\r\n});\r\n\r\n\r\n//User Login\r\nrouter.post(\"/login\",async(req,res)=>{\r\n    try{\r\n        const {email,password}=req.body;\r\n    if(!email||!password){\r\n      return res.status(404).json({massage:\"Please Fill All Input\"});\r\n    }\r\n    const existUser=await User.findOne({email:email});\r\n        //  console.log(existUser);\r\n        if(existUser){\r\n            const matchPassword=await bcrypt.compare(password,existUser.password)\r\n\r\n            const token=await existUser.generateAuthToken();\r\n            // const token=jwt.sign({id:existUser._id},JWT_SECRET_KEY,{expiresIn:\"30s\"});\r\n// console.log(token);\r\n            res.cookie(\"jwttoken\",token,{\r\n            expires:new Date(Date.now() + 1000*30),\r\n            path:\"/\",\r\n            httpOnly:true,\r\n            sameSite:\"lax\",\r\n            });\r\n\r\n            if(!matchPassword){\r\n                return res.status(404).json({massage:\"Invalid User\"});\r\n            }else{\r\n                return res.status(201).json({massage:\"User Login seccessfully\",user:existUser,token});\r\n            }\r\n        }\r\n        else{\r\n            return res.status(404).json({massage:\"Invalid User\"});\r\n        }\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n});\r\n\r\n \r\n \r\n\r\nmodule.exports=router;"],"mappings":"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"}},"mtime":1678042359943},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\\\\model\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\",\"filename\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\\\\model\\\\UserModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\hp\\\\Desktop\\\\thapa\\\\react-node-mongo\\\\backend(thapatechnical)\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.12:development":{"value":{"code":"const mongoose = require(\"mongoose\");\nconst bcrypt = require(\"bcryptjs\");\nconst jwt = require(\"jsonwebtoken\");\nconst JWT_SECRET_KEY = \"mypetnameisgajjuitisaverymotherfucker\";\nconst UserSchema = mongoose.Schema({\n  name: {\n    type: String,\n    required: [true, \"Name is required\"],\n    lowercase: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    required: [true, \"Email is required\"],\n    unique: true,\n    lowercase: true,\n    trim: true\n  },\n  password: {\n    type: String,\n    required: [true, \"Password is required\"],\n    minlength: 6,\n    trim: true\n  },\n  cpassword: {\n    type: String,\n    required: [true, \"cPassword is required\"],\n    minlength: 6,\n    trim: true\n  },\n  mobile: {\n    type: Number,\n    required: [true, \"Mobile number is required\"],\n    minlength: 10,\n    maxlength: 12,\n    trim: true\n  },\n  tokens: [{\n    token: {\n      type: String,\n      required: [true, \"token is required\"]\n    }\n  }]\n});\nUserSchema.pre('save', async function (next) {\n  if (this.isModified(\"password\")) {\n    this.password = await bcrypt.hash(this.password, 10);\n    this.cpassword = await bcrypt.hash(this.cpassword, 10);\n  }\n  next();\n});\n\n//we are generating a token\nUserSchema.methods.generateAuthToken = async function () {\n  try {\n    let token = jwt.sign({\n      _id: this._id\n    }, JWT_SECRET_KEY, {\n      expiresIn: \"1h\"\n    });\n    this.tokens = this.tokens.concat({\n      token: token\n    });\n    await this.save();\n    return token;\n  } catch (err) {\n    console.log(err);\n  }\n};\nmodule.exports = mongoose.model(\"User\", UserSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJiY3J5cHQiLCJqd3QiLCJKV1RfU0VDUkVUX0tFWSIsIlVzZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibG93ZXJjYXNlIiwidHJpbSIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJtaW5sZW5ndGgiLCJjcGFzc3dvcmQiLCJtb2JpbGUiLCJOdW1iZXIiLCJtYXhsZW5ndGgiLCJ0b2tlbnMiLCJ0b2tlbiIsInByZSIsIm5leHQiLCJpc01vZGlmaWVkIiwiaGFzaCIsIm1ldGhvZHMiLCJnZW5lcmF0ZUF1dGhUb2tlbiIsInNpZ24iLCJfaWQiLCJleHBpcmVzSW4iLCJjb25jYXQiLCJzYXZlIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxocFxcRGVza3RvcFxcdGhhcGFcXHJlYWN0LW5vZGUtbW9uZ29cXGJhY2tlbmQodGhhcGF0ZWNobmljYWwpXFxtb2RlbFxcIiwic291cmNlcyI6WyJVc2VyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2U9cmVxdWlyZShcIm1vbmdvb3NlXCIpO1xyXG5jb25zdCBiY3J5cHQ9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTtcclxuY29uc3Qgand0PXJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7ICAgXHJcbmNvbnN0IEpXVF9TRUNSRVRfS0VZPVwibXlwZXRuYW1laXNnYWpqdWl0aXNhdmVyeW1vdGhlcmZ1Y2tlclwiO1xyXG5jb25zdCBVc2VyU2NoZW1hPSBtb25nb29zZS5TY2hlbWEoe1xyXG5uYW1lOntcclxuICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6W3RydWUsXCJOYW1lIGlzIHJlcXVpcmVkXCJdLFxyXG4gICAgbG93ZXJjYXNlOnRydWUsXHJcbiAgICB0cmltOnRydWVcclxufSxcclxuZW1haWw6e1xyXG4gICAgdHlwZTpTdHJpbmcsXHJcbiAgICByZXF1aXJlZDpbdHJ1ZSxcIkVtYWlsIGlzIHJlcXVpcmVkXCJdLFxyXG4gICAgdW5pcXVlOnRydWUsXHJcbiAgICBsb3dlcmNhc2U6dHJ1ZSxcclxuICAgIHRyaW06dHJ1ZVxyXG59LFxyXG5wYXNzd29yZDp7XHJcbiAgICB0eXBlOlN0cmluZyxcclxuICAgIHJlcXVpcmVkOlt0cnVlLFwiUGFzc3dvcmQgaXMgcmVxdWlyZWRcIl0sXHJcbiAgICBtaW5sZW5ndGg6NixcclxuICAgIHRyaW06dHJ1ZVxyXG59LFxyXG5jcGFzc3dvcmQ6e1xyXG4gICAgdHlwZTpTdHJpbmcsXHJcbiAgICByZXF1aXJlZDpbdHJ1ZSxcImNQYXNzd29yZCBpcyByZXF1aXJlZFwiXSxcclxuICAgIG1pbmxlbmd0aDo2LFxyXG4gICAgdHJpbTp0cnVlXHJcbn0sXHJcbm1vYmlsZTp7XHJcbiAgICB0eXBlOk51bWJlcixcclxuICAgIHJlcXVpcmVkOlt0cnVlLFwiTW9iaWxlIG51bWJlciBpcyByZXF1aXJlZFwiXSxcclxuICAgICBtaW5sZW5ndGg6MTAsXHJcbiAgICAgbWF4bGVuZ3RoOjEyLFxyXG4gICAgdHJpbTp0cnVlXHJcbn0sXHJcbnRva2Vuczpbe1xyXG4gICAgdG9rZW46e1xyXG4gICAgICAgIHR5cGU6U3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOlt0cnVlLFwidG9rZW4gaXMgcmVxdWlyZWRcIl0sXHJcbiAgICB9XHJcbn1dXHJcbn0pXHJcblxyXG5Vc2VyU2NoZW1hLnByZSgnc2F2ZScsYXN5bmMgZnVuY3Rpb24obmV4dCl7XHJcbiAgICBpZih0aGlzLmlzTW9kaWZpZWQoXCJwYXNzd29yZFwiKSl7XHJcbnRoaXMucGFzc3dvcmQ9YXdhaXQgYmNyeXB0Lmhhc2godGhpcy5wYXNzd29yZCwxMCk7XHJcbnRoaXMuY3Bhc3N3b3JkPWF3YWl0IGJjcnlwdC5oYXNoKHRoaXMuY3Bhc3N3b3JkLDEwKTtcclxuICAgIH1cclxubmV4dCgpO1xyXG59KVxyXG5cclxuXHJcbi8vd2UgYXJlIGdlbmVyYXRpbmcgYSB0b2tlblxyXG5Vc2VyU2NoZW1hLm1ldGhvZHMuZ2VuZXJhdGVBdXRoVG9rZW49YXN5bmMgZnVuY3Rpb24oKXtcclxuICAgIHRyeXtcclxuICAgICAgICBsZXQgdG9rZW49and0LnNpZ24oe19pZDp0aGlzLl9pZH0sSldUX1NFQ1JFVF9LRVkse2V4cGlyZXNJbjpcIjFoXCJ9KVxyXG4gICAgICAgIHRoaXMudG9rZW5zPXRoaXMudG9rZW5zLmNvbmNhdCh7dG9rZW46dG9rZW59KTtcclxuICAgICAgICBhd2FpdCB0aGlzLnNhdmUoKTtcclxuICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cz1tb25nb29zZS5tb2RlbChcIlVzZXJcIixVc2VyU2NoZW1hKTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBQ0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUVELE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDakMsTUFBTUUsR0FBRyxHQUFDRixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQ2pDLE1BQU1HLGNBQWMsR0FBQyx1Q0FBdUM7QUFDNUQsTUFBTUMsVUFBVSxHQUFFTCxRQUFRLENBQUNNLE1BQU0sQ0FBQztFQUNsQ0MsSUFBSSxFQUFDO0lBQ0RDLElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUMsQ0FBQyxJQUFJLEVBQUMsa0JBQWtCLENBQUM7SUFDbENDLFNBQVMsRUFBQyxJQUFJO0lBQ2RDLElBQUksRUFBQztFQUNULENBQUM7RUFDREMsS0FBSyxFQUFDO0lBQ0ZMLElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUMsQ0FBQyxJQUFJLEVBQUMsbUJBQW1CLENBQUM7SUFDbkNJLE1BQU0sRUFBQyxJQUFJO0lBQ1hILFNBQVMsRUFBQyxJQUFJO0lBQ2RDLElBQUksRUFBQztFQUNULENBQUM7RUFDREcsUUFBUSxFQUFDO0lBQ0xQLElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUMsQ0FBQyxJQUFJLEVBQUMsc0JBQXNCLENBQUM7SUFDdENNLFNBQVMsRUFBQyxDQUFDO0lBQ1hKLElBQUksRUFBQztFQUNULENBQUM7RUFDREssU0FBUyxFQUFDO0lBQ05ULElBQUksRUFBQ0MsTUFBTTtJQUNYQyxRQUFRLEVBQUMsQ0FBQyxJQUFJLEVBQUMsdUJBQXVCLENBQUM7SUFDdkNNLFNBQVMsRUFBQyxDQUFDO0lBQ1hKLElBQUksRUFBQztFQUNULENBQUM7RUFDRE0sTUFBTSxFQUFDO0lBQ0hWLElBQUksRUFBQ1csTUFBTTtJQUNYVCxRQUFRLEVBQUMsQ0FBQyxJQUFJLEVBQUMsMkJBQTJCLENBQUM7SUFDMUNNLFNBQVMsRUFBQyxFQUFFO0lBQ1pJLFNBQVMsRUFBQyxFQUFFO0lBQ2JSLElBQUksRUFBQztFQUNULENBQUM7RUFDRFMsTUFBTSxFQUFDLENBQUM7SUFDSkMsS0FBSyxFQUFDO01BQ0ZkLElBQUksRUFBQ0MsTUFBTTtNQUNYQyxRQUFRLEVBQUMsQ0FBQyxJQUFJLEVBQUMsbUJBQW1CO0lBQ3RDO0VBQ0osQ0FBQztBQUNELENBQUMsQ0FBQztBQUVGTCxVQUFVLENBQUNrQixHQUFHLENBQUMsTUFBTSxFQUFDLGdCQUFlQyxJQUFJLEVBQUM7RUFDdEMsSUFBRyxJQUFJLENBQUNDLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFBQztJQUNuQyxJQUFJLENBQUNWLFFBQVEsR0FBQyxNQUFNYixNQUFNLENBQUN3QixJQUFJLENBQUMsSUFBSSxDQUFDWCxRQUFRLEVBQUMsRUFBRSxDQUFDO0lBQ2pELElBQUksQ0FBQ0UsU0FBUyxHQUFDLE1BQU1mLE1BQU0sQ0FBQ3dCLElBQUksQ0FBQyxJQUFJLENBQUNULFNBQVMsRUFBQyxFQUFFLENBQUM7RUFDL0M7RUFDSk8sSUFBSSxFQUFFO0FBQ04sQ0FBQyxDQUFDOztBQUdGO0FBQ0FuQixVQUFVLENBQUNzQixPQUFPLENBQUNDLGlCQUFpQixHQUFDLGtCQUFnQjtFQUNqRCxJQUFHO0lBQ0MsSUFBSU4sS0FBSyxHQUFDbkIsR0FBRyxDQUFDMEIsSUFBSSxDQUFDO01BQUNDLEdBQUcsRUFBQyxJQUFJLENBQUNBO0lBQUcsQ0FBQyxFQUFDMUIsY0FBYyxFQUFDO01BQUMyQixTQUFTLEVBQUM7SUFBSSxDQUFDLENBQUM7SUFDbEUsSUFBSSxDQUFDVixNQUFNLEdBQUMsSUFBSSxDQUFDQSxNQUFNLENBQUNXLE1BQU0sQ0FBQztNQUFDVixLQUFLLEVBQUNBO0lBQUssQ0FBQyxDQUFDO0lBQzdDLE1BQU0sSUFBSSxDQUFDVyxJQUFJLEVBQUU7SUFDakIsT0FBT1gsS0FBSztFQUNoQixDQUFDLFFBQU1ZLEdBQUcsRUFBQztJQUNQQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsR0FBRyxDQUFDO0VBQ3BCO0FBQ0osQ0FBQztBQUVERyxNQUFNLENBQUNDLE9BQU8sR0FBQ3RDLFFBQVEsQ0FBQ3VDLEtBQUssQ0FBQyxNQUFNLEVBQUNsQyxVQUFVLENBQUMifQ==","map":{"version":3,"names":["mongoose","require","bcrypt","jwt","JWT_SECRET_KEY","UserSchema","Schema","name","type","String","required","lowercase","trim","email","unique","password","minlength","cpassword","mobile","Number","maxlength","tokens","token","pre","next","isModified","hash","methods","generateAuthToken","sign","_id","expiresIn","concat","save","err","console","log","module","exports","model"],"sourceRoot":"C:\\Users\\hp\\Desktop\\thapa\\react-node-mongo\\backend(thapatechnical)\\model\\","sources":["UserModel.js"],"sourcesContent":["const mongoose=require(\"mongoose\");\r\nconst bcrypt= require(\"bcryptjs\");\r\nconst jwt=require(\"jsonwebtoken\");   \r\nconst JWT_SECRET_KEY=\"mypetnameisgajjuitisaverymotherfucker\";\r\nconst UserSchema= mongoose.Schema({\r\nname:{\r\n    type:String,\r\n    required:[true,\"Name is required\"],\r\n    lowercase:true,\r\n    trim:true\r\n},\r\nemail:{\r\n    type:String,\r\n    required:[true,\"Email is required\"],\r\n    unique:true,\r\n    lowercase:true,\r\n    trim:true\r\n},\r\npassword:{\r\n    type:String,\r\n    required:[true,\"Password is required\"],\r\n    minlength:6,\r\n    trim:true\r\n},\r\ncpassword:{\r\n    type:String,\r\n    required:[true,\"cPassword is required\"],\r\n    minlength:6,\r\n    trim:true\r\n},\r\nmobile:{\r\n    type:Number,\r\n    required:[true,\"Mobile number is required\"],\r\n     minlength:10,\r\n     maxlength:12,\r\n    trim:true\r\n},\r\ntokens:[{\r\n    token:{\r\n        type:String,\r\n        required:[true,\"token is required\"],\r\n    }\r\n}]\r\n})\r\n\r\nUserSchema.pre('save',async function(next){\r\n    if(this.isModified(\"password\")){\r\nthis.password=await bcrypt.hash(this.password,10);\r\nthis.cpassword=await bcrypt.hash(this.cpassword,10);\r\n    }\r\nnext();\r\n})\r\n\r\n\r\n//we are generating a token\r\nUserSchema.methods.generateAuthToken=async function(){\r\n    try{\r\n        let token=jwt.sign({_id:this._id},JWT_SECRET_KEY,{expiresIn:\"1h\"})\r\n        this.tokens=this.tokens.concat({token:token});\r\n        await this.save();\r\n        return token;\r\n    }catch(err){\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nmodule.exports=mongoose.model(\"User\",UserSchema);"],"mappings":"AAAA,MAAMA,QAAQ,GAACC,OAAO,CAAC,UAAU,CAAC;AAClC,MAAMC,MAAM,GAAED,OAAO,CAAC,UAAU,CAAC;AACjC,MAAME,GAAG,GAACF,OAAO,CAAC,cAAc,CAAC;AACjC,MAAMG,cAAc,GAAC,uCAAuC;AAC5D,MAAMC,UAAU,GAAEL,QAAQ,CAACM,MAAM,CAAC;EAClCC,IAAI,EAAC;IACDC,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,kBAAkB,CAAC;IAClCC,SAAS,EAAC,IAAI;IACdC,IAAI,EAAC;EACT,CAAC;EACDC,KAAK,EAAC;IACFL,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,mBAAmB,CAAC;IACnCI,MAAM,EAAC,IAAI;IACXH,SAAS,EAAC,IAAI;IACdC,IAAI,EAAC;EACT,CAAC;EACDG,QAAQ,EAAC;IACLP,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,sBAAsB,CAAC;IACtCM,SAAS,EAAC,CAAC;IACXJ,IAAI,EAAC;EACT,CAAC;EACDK,SAAS,EAAC;IACNT,IAAI,EAACC,MAAM;IACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,uBAAuB,CAAC;IACvCM,SAAS,EAAC,CAAC;IACXJ,IAAI,EAAC;EACT,CAAC;EACDM,MAAM,EAAC;IACHV,IAAI,EAACW,MAAM;IACXT,QAAQ,EAAC,CAAC,IAAI,EAAC,2BAA2B,CAAC;IAC1CM,SAAS,EAAC,EAAE;IACZI,SAAS,EAAC,EAAE;IACbR,IAAI,EAAC;EACT,CAAC;EACDS,MAAM,EAAC,CAAC;IACJC,KAAK,EAAC;MACFd,IAAI,EAACC,MAAM;MACXC,QAAQ,EAAC,CAAC,IAAI,EAAC,mBAAmB;IACtC;EACJ,CAAC;AACD,CAAC,CAAC;AAEFL,UAAU,CAACkB,GAAG,CAAC,MAAM,EAAC,gBAAeC,IAAI,EAAC;EACtC,IAAG,IAAI,CAACC,UAAU,CAAC,UAAU,CAAC,EAAC;IACnC,IAAI,CAACV,QAAQ,GAAC,MAAMb,MAAM,CAACwB,IAAI,CAAC,IAAI,CAACX,QAAQ,EAAC,EAAE,CAAC;IACjD,IAAI,CAACE,SAAS,GAAC,MAAMf,MAAM,CAACwB,IAAI,CAAC,IAAI,CAACT,SAAS,EAAC,EAAE,CAAC;EAC/C;EACJO,IAAI,EAAE;AACN,CAAC,CAAC;;AAGF;AACAnB,UAAU,CAACsB,OAAO,CAACC,iBAAiB,GAAC,kBAAgB;EACjD,IAAG;IACC,IAAIN,KAAK,GAACnB,GAAG,CAAC0B,IAAI,CAAC;MAACC,GAAG,EAAC,IAAI,CAACA;IAAG,CAAC,EAAC1B,cAAc,EAAC;MAAC2B,SAAS,EAAC;IAAI,CAAC,CAAC;IAClE,IAAI,CAACV,MAAM,GAAC,IAAI,CAACA,MAAM,CAACW,MAAM,CAAC;MAACV,KAAK,EAACA;IAAK,CAAC,CAAC;IAC7C,MAAM,IAAI,CAACW,IAAI,EAAE;IACjB,OAAOX,KAAK;EAChB,CAAC,QAAMY,GAAG,EAAC;IACPC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;AACJ,CAAC;AAEDG,MAAM,CAACC,OAAO,GAACtC,QAAQ,CAACuC,KAAK,CAAC,MAAM,EAAClC,UAAU,CAAC"}},"mtime":1678019333620}}